{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/auth-module/auth-module.module.ts","./src/app/auth-module/login/login.component.html","./src/app/auth-module/login/login.component.ts","./src/app/auth-module/register/register.component.html","./src/app/auth-module/register/register.component.ts","./src/app/auth-module/services/auth.service.ts","./src/app/auth-module/token.interceptor.ts","./src/app/components/bike-station-info/bike-station-info.component.html","./src/app/components/bike-station-info/bike-station-info.component.ts","./src/app/components/dialog/dialog.component.html","./src/app/components/dialog/dialog.component.ts","./src/app/components/errordialog/errordialog.component.html","./src/app/components/errordialog/errordialog.component.ts","./src/app/components/info-popup/info-popup.component.html","./src/app/components/info-popup/info-popup.component.ts","./src/app/components/loaading-near-stations/loaading-near-stations.component.html","./src/app/components/loaading-near-stations/loaading-near-stations.component.ts","./src/app/components/map/map.component.html","./src/app/components/map/map.component.ts","./src/app/components/nomadriddialog/nomadriddialog.component.html","./src/app/components/nomadriddialog/nomadriddialog.component.ts","./src/app/components/tabledetail/services/tabledetail.service.ts","./src/app/components/tabledetail/tabledetail.component.html","./src/app/components/tabledetail/tabledetail.component.ts","./src/app/components/welcome-dialog/welcome-dialog.component.html","./src/app/components/welcome-dialog/welcome-dialog.component.ts","./src/app/components/welcome/welcome.component.html","./src/app/components/welcome/welcome.component.ts","./src/app/info-card/adress-finder/adress-finder.component.html","./src/app/info-card/adress-finder/adress-finder.component.ts","./src/app/info-card/closestations/closestations.component.html","./src/app/info-card/closestations/closestations.component.ts","./src/app/info-card/info-card.module.ts","./src/app/info-card/info-card/info-card.component.html","./src/app/info-card/info-card/info-card.component.ts","./src/app/info-card/services/info-card.service.ts","./src/app/legend/bikes-legend/bikes-legend.component.html","./src/app/legend/bikes-legend/bikes-legend.component.ts","./src/app/legend/buses-legend/buses-legend.component.html","./src/app/legend/buses-legend/buses-legend.component.ts","./src/app/legend/legend.module.ts","./src/app/legend/legend/legend.component.html","./src/app/legend/legend/legend.component.ts","./src/app/legend/services/legend.service.ts","./src/app/material-module.ts","./src/app/services/bike-accident.service.ts","./src/app/services/bikes-layer.service.ts","./src/app/services/buses.service.ts","./src/app/services/districts.service.ts","./src/app/services/map.service.ts","./src/app/services/parking.service.ts","./src/app/services/routes.service.ts","./src/app/services/streets-style.service.ts","./src/app/services/streets.service.ts","./src/app/services/style-line-features.service.ts","./src/app/services/style-points-features.service.ts","./src/app/services/style-polygon-features.service.ts","./src/app/services/style.service.ts","./src/app/services/user.service.ts","./src/app/upper-bar/services/upper-bar.service.ts","./src/app/upper-bar/upper-bar.module.ts","./src/app/upper-bar/upper-bar/upper-bar.component.html","./src/app/upper-bar/upper-bar/upper-bar.component.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {MapComponent} from './components/map/map.component'\r\nimport {WelcomeComponent} from './components/welcome/welcome.component'\r\nconst routes: Routes = [\r\n  {path:'map', component:MapComponent},{path:'welcome', component:WelcomeComponent},\r\n{ path: '',\r\n    redirectTo: '/welcome',\r\n    pathMatch: 'full'\r\n    } ];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","<router-outlet></router-outlet>","import { HttpClient } from '@angular/common/http';\r\nimport { Component } from '@angular/core';\r\nimport { AuthService } from './auth-module/services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'madrid-mobility-front';\r\n\r\n  constructor(private authService: AuthService){\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.authService.doLogin();\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { MapComponent } from './components/map/map.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport {HttpClientModule,HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { MaterialModule } from './material-module';\r\nimport{BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\nimport {TableModule} from 'primeng/table';\r\n//import {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\nimport { DialogComponent } from './components/dialog/dialog.component';\r\nimport { LoaadingNearStationsComponent } from './components/loaading-near-stations/loaading-near-stations.component';\r\nimport { WelcomeDialogComponent } from './components/welcome-dialog/welcome-dialog.component';\r\nimport { NomadriddialogComponent } from './components/nomadriddialog/nomadriddialog.component';\r\nimport { ErrordialogComponent } from './components/errordialog/errordialog.component';\r\nimport { BikeStationInfoComponent } from './components/bike-station-info/bike-station-info.component';\r\nimport { WelcomeComponent } from './components/welcome/welcome.component';\r\nimport { TabledetailComponent  } from './components/tabledetail/tabledetail.component';\r\nimport { InfoCardModule } from './info-card/info-card.module';\r\nimport { LegendModule } from './legend/legend.module';\r\nimport { UpperBarModule } from './upper-bar/upper-bar.module';\r\n\r\nimport { TokenInterceptor } from './auth-module/token.interceptor';\r\nimport { InfoPopupComponent } from './components/info-popup/info-popup.component';\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MapComponent,\r\n    DialogComponent,\r\n    LoaadingNearStationsComponent,\r\n    WelcomeDialogComponent,\r\n    NomadriddialogComponent,\r\n    ErrordialogComponent,\r\n    BikeStationInfoComponent,\r\n    WelcomeComponent,\r\n    TabledetailComponent,\r\n    InfoPopupComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    BrowserAnimationsModule,\r\n    MaterialModule,\r\n    TableModule,\r\n    //MatProgressSpinnerModule,\r\n    InfoCardModule,\r\n    LegendModule,\r\n    UpperBarModule\r\n  ],\r\n  entryComponents: [\r\n    DialogComponent,LoaadingNearStationsComponent,WelcomeDialogComponent,\r\n    NomadriddialogComponent,ErrordialogComponent,BikeStationInfoComponent,\r\n    TabledetailComponent, InfoPopupComponent\r\n  ],\r\n  providers: [\r\n     MapComponent,\r\n     {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: TokenInterceptor,\r\n      multi: true\r\n    },],\r\n  bootstrap: [AppComponent],\r\n  \r\n})\r\nexport class AppModule { }\r\n\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RegisterComponent } from './register/register.component';\nimport { LoginComponent } from './login/login.component';\nimport { MaterialModule } from '../material-module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [RegisterComponent, LoginComponent],\n  imports: [\n    CommonModule, MaterialModule,ReactiveFormsModule\n  ],\n  exports:[\n    LoginComponent,RegisterComponent\n  ]\n})\nexport class AuthModuleModule { }\n","<div *ngIf=\"loginOrRegister\">\n  <div>\n    <div [formGroup]=\"loginForm\">\n      <mat-form-field appearance=\"outline\">\n        <mat-label>Login</mat-label>\n        <input matInput formControlName=\"email\">\n      </mat-form-field>\n      <mat-form-field appearance=\"outline\">\n        <mat-label>Password</mat-label>\n        <input matInput formControlName=\"password\" type=\"password\">\n      </mat-form-field>\n    </div>\n  </div>\n  <a role=\"button\" (click)=\"showRegister()\">Havent an account yet?</a>\n  <div style=\"width: 25%;\">\n    <button mat-raised-button color=\"primary\" (click)=\"login()\">Login </button><br>\n    <button mat-raised-button color=\"primary\" (click)=\"getBack()\">Get back to legend </button><br>\n  </div>\n</div>\n<div *ngIf=\"!loginOrRegister\">\n  <app-register></app-register>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { UpperBarService } from 'src/app/upper-bar/services/upper-bar.service';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  loginForm: FormGroup;\n  loginOrRegister: boolean = true;\n\n  constructor(private authService: AuthService, private upperBarService: UpperBarService) { }\n\n  ngOnInit(): void {\n    this.createForm();\n  }\n\n  createForm() {\n    this.loginForm = new FormGroup({\n      'email': new FormControl(),\n      'password': new FormControl(),\n    });\n  }\n\n  login(){\n    let loginParams = {\n      'email':this.loginForm.get('email').value,\n      'password':this.loginForm.get('password').value,\n      'getHash':true\n    }\n\n    \n    this.authService.doLoginUser(loginParams)\n  }\n\n  getBack(){\n    this.authService.notifyUserToken('back');\n  }\n\n  showRegister(){\n    this.loginOrRegister = false;\n  }\n}\n","<div>\n    <div [formGroup]=\"registerForm\">\n      <mat-form-field appearance=\"outline\">\n        <mat-label>Name</mat-label>\n        <input matInput formControlName=\"name\">\n      </mat-form-field>\n      <mat-form-field appearance=\"outline\">\n        <mat-label>Surname</mat-label>\n        <input matInput formControlName=\"surname\" type=\"text\">\n      </mat-form-field>\n      <mat-form-field appearance=\"outline\">\n        <mat-label>Email</mat-label>\n        <input matInput formControlName=\"email\" type=\"text\">\n      </mat-form-field>\n      <mat-form-field appearance=\"outline\">\n        <mat-label>Password</mat-label>\n        <input matInput formControlName=\"password\" type=\"password\">\n      </mat-form-field>\n      <mat-form-field appearance=\"outline\">\n        <mat-label>Confirm Password</mat-label>\n        <input matInput formControlName=\"password2\" type=\"password\">\n      </mat-form-field>\n    </div>\n  </div>\n  <div style=\"width: 25%;\">\n    <button mat-raised-button color=\"primary\" (click)=\"register()\">Create account </button><br>\n  </div>\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit {\n\n  registerForm: FormGroup;\n\n  constructor(private authService: AuthService) { }\n\n  ngOnInit(): void {\n    this.createForm();\n  }\n\n  createForm() {\n    this.registerForm = new FormGroup({\n      'name': new FormControl(),\n      'surname': new FormControl(),\n      'email': new FormControl(),\n      'password': new FormControl(),\n      'password2': new FormControl(),\n    });\n  }\n\n  register(){\n    if(this.passwordMatch()){\n\n      let registerParams = {\n        'name': this.registerForm.get('name').value,\n        'surname': this.registerForm.get('surname').value,\n        'email': this.registerForm.get('email').value,\n        'password': this.registerForm.get('password').value,\n        'app': 'madrid-mobility'\n      }\n      this.authService.registerUser(registerParams);\n    }else{\n\n    }\n  }\n\n  passwordMatch(){\n    if(this.registerForm.get('password').value === this.registerForm.get('password2').value){\n      return true;\n    }else{\n      return false;\n    }\n  }\n}\n","import { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  private REST_API_SERVER = \"http://localhost:8081/api/auth/EMTServices/\";\n  //private REST_API_SERVER = \"https://floating-reef-24535.herokuapp.com/api/auth/EMTServices/\";\n\n  constructor(private httpClient: HttpClient) { }\n\n  private emtTokenOut = new BehaviorSubject<string>(null);\n\n  emtToken$ = this.emtTokenOut.asObservable();\n\n  private userTokenOut = new BehaviorSubject<string>(null);\n\n  userToken$ = this.userTokenOut.asObservable();\n\n  handleError(error: HttpErrorResponse) {\n    let errorMessage = 'Unknown error!';\n    if (error.error instanceof ErrorEvent) {\n      // Client-side errors\n      errorMessage = `Error: ${error.error.message}`;\n    } else {\n      // Server-side errors\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\n    }\n    window.alert(errorMessage);\n    return throwError(errorMessage);\n  }\n\n  doLogin(){\n    this.httpClient.get(this.REST_API_SERVER+'login').subscribe(\n      res=>{\n      //@ts-ignore\n      if(res.token != null && res.token != undefined){\n        //@ts-ignore\n        this.notifyToken(res.token)\n      }\n    },\n    err =>{\n      console.log(err)\n    });\n  }\n\n  //calling to indentity service in node\n  doLoginUser(loginParams){\n    this.httpClient.post('http://localhost:8082/api/login',loginParams).subscribe(\n      res=>{    \n        //@ts-ignore      \n          localStorage.setItem('JWT_TOKEN',res.token );\n          let params = {\n            //@ts-ignore\n            token :res.token\n          }\n        this.httpClient.post('http://localhost:8081/api/auth/EMTServices/setUserToken',params).subscribe(\n          res=>{\n            this.notifyUserToken(localStorage.getItem('JWT_TOKEN'));\n          }, err=>{\n            if(err.statusText === 'OK'){\n              this.notifyUserToken(localStorage.getItem('JWT_TOKEN'));\n            }\n          }\n        )\n    },\n    err =>{\n      console.log(err)\n    });\n  }\n\n  registerUser(userBean){\n    this.httpClient.post('http://localhost:8081/api/auth/EMTServices/registerUser', userBean).subscribe(\n      res=>{\n      console.log(res)\n    },\n    err =>{\n      console.log(err)\n    });\n  }\n\n  notifyUserToken(token: string){\n    this.userTokenOut.next(token);\n  }\n\n  notifyToken(token: string){\n    this.emtTokenOut.next(token);\n  }\n\n  logOut(){\n    this.httpClient.post(this.REST_API_SERVER+'logOut', null).subscribe();\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpErrorResponse } from '@angular/common/http';\r\n//import { AuthService } from './services/auth.service';\r\nimport { Observable, throwError, BehaviorSubject } from 'rxjs';\r\nimport { catchError, filter, take, switchMap } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class TokenInterceptor implements HttpInterceptor {\r\n\r\n  private isRefreshing = false;\r\n  private refreshTokenSubject: BehaviorSubject<any> = new BehaviorSubject<any>(null);\r\n\r\n  \r\n\r\n  //constructor(public authService: AuthService) { }\r\n  constructor() { }\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    let token=localStorage.getItem('JWT_TOKEN');\r\n    // if (this.authService.getJwtToken()) {\r\n       request = this.addToken(request, token);\r\n    // }\r\n\r\n    return next.handle(request).pipe(catchError(error => {\r\n      if (error instanceof HttpErrorResponse && error.status === 401) {\r\n        //return this.handle401Error(request, next);\r\n      } else {\r\n        console.log(error)\r\n        return throwError(error);\r\n      }\r\n    }));\r\n  }\r\n\r\n   private addToken(request: HttpRequest<any>, token: string) {\r\n     return request.clone({\r\n       setHeaders: {\r\n         'Authorization': `Bearer ${token}`\r\n       }\r\n     });\r\n   }\r\n}","<p>bike-station-info works!</p>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-bike-station-info',\n  templateUrl: './bike-station-info.component.html',\n  styleUrls: ['./bike-station-info.component.css']\n})\nexport class BikeStationInfoComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div style=\"text-align: center;\">\r\n    <mat-spinner style=\"margin: 0 auto;\"></mat-spinner>\r\n    <span style=\"display: inline-block;\">Loading bike stations</span>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\r\nimport { BikesLayerService } from 'src/app/services/bikes-layer.service';\r\n@Component({\r\n  selector: 'app-dialog',\r\n  templateUrl: './dialog.component.html',\r\n  styleUrls: ['./dialog.component.css']\r\n})\r\nexport class DialogComponent implements OnInit {\r\n\r\n  constructor(public dialogRef: MatDialogRef<DialogComponent>,\r\n     private bikesService: BikesLayerService\r\n    ) {\r\n      dialogRef.disableClose = true;\r\n      this.bikesService.bikes$.subscribe(bikes=>{\r\n        if(bikes != null){\r\n          this.closeDialog();\r\n        }\r\n      })\r\n     }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","<h3>{{error}}</h3>\n<button mat-raised-button color=\"primary\"  [mat-dialog-close] (click)=\"notify()\">Close</button>","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { BikesLayerService } from 'src/app/services/bikes-layer.service';\nimport { DialogData } from '../nomadriddialog/nomadriddialog.component';\n\n@Component({\n  selector: 'app-errordialog',\n  templateUrl: './errordialog.component.html',\n  styleUrls: ['./errordialog.component.css']\n})\nexport class ErrordialogComponent implements OnInit {\n\n  error: string\n\n  constructor(public dialogRef: MatDialogRef<ErrordialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData, private bikesLayerService:BikesLayerService) { }\n\n  ngOnInit(): void {\n    this.setError();\n  }\n\n  setError(){\n    console.log(this.data)\n    //@ts-ignore\n    let mapquesturlSplitted = this.data.err.url.split('/')[2];\n    console.log(mapquesturlSplitted)\n    \n    //@ts-ignore\n    if(mapquesturlSplitted === 'www.mapquestapi.com'){\n      this.error = 'An error has occurred retrieving your location, please, try again in a few seconds'\n    }\n    \n  }\n\n  notify(){\n    this.bikesLayerService.notifyBikes(true);\n  }\n\n}\n","<h3 class=\"bold\">Bike station name:</h3><h4>{{name}}</h4>\n<p>Address:</p>{{address}}\n<p>Available bikes:</p>{{totalBikes}}\n<p>Available slots:</p>{{availableSlots}}\n<p>Last update:</p> {{updatedAt | date: 'medium'}}","import { Component, OnInit } from '@angular/core';\n\nexport interface PeriodicElement {\n  name: string;\n  availableBikes: number;\n  freeDocks: number;\n}\n\n@Component({\n  selector: 'app-info-popup',\n  templateUrl: './info-popup.component.html',\n  styleUrls: ['./info-popup.component.css']\n})\nexport class InfoPopupComponent implements OnInit {\n  totalBikes:string;\n  availableSlots:string;\n  name:string;\n  address:string;\n  updatedAt: string;\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!-- <mat-spinner></mat-spinner>  -->\r\n<span>Calculating near stations</span>","import { Component, OnInit } from '@angular/core';\r\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\r\n@Component({\r\n  selector: 'app-loaading-near-stations',\r\n  templateUrl: './loaading-near-stations.component.html',\r\n  styleUrls: ['./loaading-near-stations.component.css']\r\n})\r\nexport class LoaadingNearStationsComponent implements OnInit {\r\n\r\n  constructor(public dialogRef: MatDialogRef<LoaadingNearStationsComponent>,\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div>\r\n  \r\n  <div #mapElement id=\"map\" class=\"map\"\r\n  style=\"border: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: 100%; width: 100%;\"\r\n  (click)=\"selectOnMap()\" (mousewheel)=\"detectZoomChange()\">\r\n  <app-upper-bar></app-upper-bar>\r\n  <app-legend></app-legend>\r\n    <app-info-card></app-info-card>\r\n</div>\r\n</div>\r\n","import { Component, OnInit} from '@angular/core';\r\n//import { MatExpansionPanel } from '@angular/material/expansion'\r\n//import { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { DialogComponent } from '../dialog/dialog.component';\r\n\r\nimport { BikeAccidentService } from '../../services/bike-accident.service'\r\nimport { MapService } from '../../services/map.service';\r\nimport { BikesLayerService } from 'src/app/services/bikes-layer.service';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { DistrictsService } from 'src/app/services/districts.service';\r\nimport { BusesService } from 'src/app/services/buses.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\nimport Select from 'ol/interaction/Select';\r\nimport { InfoPopupComponent } from '../info-popup/info-popup.component';\r\nimport { LegendService } from 'src/app/legend/services/legend.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-map',\r\n  templateUrl: './map.component.html',\r\n  styleUrls: ['./map.component.css']\r\n})\r\nexport class MapComponent implements OnInit {\r\n\r\n  selectIndex: number=0;\r\n\r\n  constructor(private mapService: MapService, \r\n    private bikesLayerService: BikesLayerService, \r\n    private userService:UserService, \r\n    private districtsService: DistrictsService, \r\n    private busesService: BusesService,\r\n    private bikeAccidents: BikeAccidentService,\r\n    public dialog: MatDialog,\r\n    private legendService: LegendService){\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.mapService.renderMap();\r\n    this.openLoading();\r\n  }\r\n\r\n  detectZoomChange(){\r\n\r\n  }\r\n\r\n  selectOnMap(){\r\n    this.mapService.selectOnMap();\r\n  }\r\n\r\n  openLoading() {\r\n    const dialogRef = this.dialog.open(DialogComponent, {\r\n      width: '600px',\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      console.log(result)\r\n       });\r\n  }\r\n}\r\n","<h2 *ngIf='!apiError'>It seems that you are not located in Madrid</h2>\n<h2 *ngIf='apiError'>Mapquest api geolocation service has failed,</h2>\n<h3>To have a try to this app, choose any address to be used as your current position</h3>\n<mat-form-field>\n    <mat-label>Addresses</mat-label>\n    <mat-select>\n      <mat-option value=\"Calle Lope de Vega 8\" (click)=\"setFakeUserPosition('-3.69837 40.41379')\">\n        Calle Lope de Vega 9\n      </mat-option>\n      <mat-option value=\"Calle Palma 40\"(click)=\"setFakeUserPosition('-3.70524 40.42652')\" [mat-dialog-close]>\n        Calle Palma 40\n      </mat-option>\n    </mat-select>\n  </mat-form-field>","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MapService } from 'src/app/services/map.service';\n\nimport WKT from 'ol/format/WKT';\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport { Vector as VectorSource } from 'ol/source';\nimport VectorLayer from 'ol/layer/Vector';\nimport { StyleService } from 'src/app/services/style.service';\nimport Collection from 'ol/Collection';\nimport { StylePointsFeaturesService } from 'src/app/services/style-points-features.service';\n\nexport interface DialogData {\n  fakeAddress: string;\n}\n\n@Component({\n  selector: 'app-nomadriddialog',\n  templateUrl: './nomadriddialog.component.html',\n  styleUrls: ['./nomadriddialog.component.css']\n})\nexport class NomadriddialogComponent implements OnInit {\n  value: any;\n  format = new WKT();\n  apiError:boolean=false;\n  constructor(\n    public dialogRef: MatDialogRef<NomadriddialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData, private mapService: MapService, private stylePointsFeaturesService: StylePointsFeaturesService) { }\n\n  ngOnInit(): void {\n  }\n\n  setFakeUserPosition(fakeAddress) {\n\n    this.mapService.sendUserPositionToInfoCard(fakeAddress);\n\n    let fakeAddressSplt =fakeAddress.split(' ');\n    let lng =fakeAddressSplt[0];\n    let lat =fakeAddressSplt[1];\n\n    sessionStorage.setItem('userLat', String(lat));\n    sessionStorage.setItem('userLng', String(lng));\n\n    let userCoords = {\n      //@ts-ignore\n      lat:lat,\n      //@ts-ignore\n      lng:lng\n    }\n\n    localStorage.removeItem('userCoords')\n    localStorage.setItem('userCoords',JSON.stringify(userCoords));\n\n    let fakeAddressCoords = 'POINT(' + fakeAddress + ')';\n\n    let userPositionCoords = this.format.readFeature(fakeAddressCoords, { dataProjection: 'EPSG:4326', featureProjection: 'EPSG:3857' }).getGeometry().getCoordinates()\n\n    let userPositionFeature = new Feature({\n      geometry: new Point(userPositionCoords)\n    });\n\n    this.stylePointsFeaturesService.applyStyleToUser(userPositionFeature);\n\n    let userPositionCollection = new Collection;\n\n    userPositionCollection.push(userPositionFeature);\n\n    let userPositionLayer = new VectorLayer({\n      name: 'userPosition',\n      source: new VectorSource({\n        features: userPositionCollection\n      })\n    });\n\n    this.mapService.map$.addLayer(userPositionLayer);\n    this.mapService.updateMapViewCenter(fakeAddressCoords);\n    this.dialogRef.close(fakeAddress);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TabledetailService {\n\n  private selectedStationIdOut = new BehaviorSubject<any>(null);\n  selectedStationId$ = this.selectedStationIdOut.asObservable();\n\n  notifySelectedStationId(selectedStationId){\n    this.selectedStationIdOut.next(selectedStationId);\n  }\n\n  constructor() { }\n}\n","<div><p>Last update: {{updatedAt | date: 'medium'}} </p></div>\n<table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\" >\n  <!-- Position Column -->\n  <ng-container matColumnDef=\"address\">\n    <th mat-header-cell *matHeaderCellDef> Address </th>\n    <td mat-cell *matCellDef=\"let element\" role=\"button\" (click)=\"findNearStations(element)\"> {{element.address}} </td>\n  </ng-container>\n\n  <!-- Name Column -->\n  <ng-container matColumnDef=\"name\">\n    <th mat-header-cell *matHeaderCellDef> Name </th>\n    <td mat-cell *matCellDef=\"let element\" role=\"button\" (click)=\"findNearStations(element)\"> {{element.name}} </td>\n  </ng-container>\n\n  <!-- Weight Column -->\n  <ng-container matColumnDef=\"availableBikes\">\n    <th mat-header-cell *matHeaderCellDef> Available bikes </th>\n    <td mat-cell *matCellDef=\"let element\" role=\"button\" (click)=\"findNearStations(element)\"> {{element.availableBikes}} </td>\n  </ng-container>\n\n  <!-- Symbol Column -->\n  <ng-container matColumnDef=\"freeDocks\">\n    <th mat-header-cell *matHeaderCellDef> Free docks </th>\n    <td mat-cell *matCellDef=\"let element\" role=\"button\" (click)=\"findNearStations(element)\"> {{element.freeDocks}} </td>\n  </ng-container>\n\n  <!-- Symbol Column -->\n  <ng-container matColumnDef=\"distance\">\n    <th mat-header-cell *matHeaderCellDef> Distance (mts) </th>\n    <td mat-cell *matCellDef=\"let element\" role=\"button\" (click)=\"findNearStations(element)\"> {{element.distance}} </td>\n  </ng-container>\n\n  <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n  <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n</table>","import { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { MapService } from 'src/app/services/map.service';\nimport { RoutesService } from 'src/app/services/routes.service';\nimport { InfoCardService } from '../../info-card/services/info-card.service';\nimport { TabledetailService } from './services/tabledetail.service';\n\n@Component({\n  selector: 'app-tabledetail',\n  templateUrl: './tabledetail.component.html',\n  styleUrls: ['./tabledetail.component.css']\n})\nexport class TabledetailComponent implements OnInit {\n  displayedColumns: string[] = ['address', 'name', 'availableBikes', 'freeDocks','distance'];\n  selectedStation: any;\n  closetsStation: any;\n  dataSource;\n  updatedAt: Date;\n  constructor(private infoCardService: InfoCardService,\n     private mapService : MapService, \n    private routeService: RoutesService,\n    public dialogRef: MatDialogRef<TabledetailComponent>,\n    private tabledetailService:TabledetailService) { }\n\n  ngOnInit(): void {\n    this.infoCardService.notifyClosestsStations$.subscribe(closetsStations => {\n      if (closetsStations != null) {\n         this.closetsStation = closetsStations;\n         this.dataSource = closetsStations;\n         this.updatedAt = this.dataSource[0].updatedAt\n      }\n    });\n  }\n  async findNearStations(select: any) {\n    let latBikeStation = select.pointsList.coordinates.substring(0, select.pointsList.coordinates.indexOf(\" \"));\n    let lngBikeStation = select.pointsList.coordinates.substring(select.pointsList.coordinates.indexOf(\" \") + 1, select.pointsList.coordinates.length);\n\n    let bikeStationCoords = {\n      lat:latBikeStation,\n      lng:lngBikeStation\n    }\n\n    let userCoords = {\n      lat: JSON.parse(localStorage.getItem('userCoords')).lat,\n      lng:JSON.parse(localStorage.getItem('userCoords')).lng\n    }\n    let setViewPoint = 'POINT(' + latBikeStation + ' ' + lngBikeStation+ ')';\n    this.tabledetailService.notifySelectedStationId(select.stationId);\n    this.routeService.getRoute(userCoords,bikeStationCoords).subscribe(\n      res=>{\n        this.routeService.createRouteLayer(res.features[0].geometry.coordinates);\n    }, err=>{\n      console.log(err)\n    });\n    this.closeDialog();\n    this.mapService.updateMapViewCenter(setViewPoint);\n  }\n\n  closeDialog() {\n    this.dialogRef.close();\n  }\n\n  getBackToMap() {\n    //this.mapAccordeon.open()\n  }\n}\n","<div>\n    <h4>Welcome to Madrid Mobility</h4>\n    <span>This is an app that provides transport information from EMTLab API</span>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-welcome-dialog',\n  templateUrl: './welcome-dialog.component.html',\n  styleUrls: ['./welcome-dialog.component.css']\n})\nexport class WelcomeDialogComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div id=\"container\">\n    <h1>Welcome to Madrid Mobility</h1>\n    <h3>This app has been developed in order to provide data from the <a href=\"https://mobilitylabs.emtmadrid.es/\">EMT\n            API-REST service</a></h3>\n    <h3>and show it a map, using some GIS functions.</h3>\n\n    <h3>Before continue, I have to tell you that the town where you are located is registered just for statistical\n        reasons,\n        and please, if you agree, allow geolocation in your browser when required.</h3>\n    <div id=\"button\">\n        <button mat-raised-button color=\"primary\" (click)=\"navigateToMadridMobility()\">Carry on</button>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport {Router} from '@angular/router'\n\n@Component({\n  selector: 'app-welcome',\n  templateUrl: './welcome.component.html',\n  styleUrls: ['./welcome.component.css']\n})\nexport class WelcomeComponent implements OnInit {\n\n  constructor(private router: Router) { }\n\n  ngOnInit(): void {\n  }\nnavigateToMadridMobility(){\n  this.router.navigate(['map']);\n}\n}\n","<div *ngIf=\"streetsList.length >0\" style=\"margin-left: 5%;\">\n    <div >Address finder</div>\n    <mat-icon svgIcon=\"thumbs-up\" aria-hidden=\"false\" aria-label=\"Example thumbs up SVG icon\" matTooltip=\"Type and address. Ex: calle limn \"></mat-icon>\n    <div >\n        <form class=\"example-form\" [formGroup]=\"addressFinderForm\" style=\"display: table-cell;\">\n            <mat-form-field style=\"width: 300px;\">\n              <input type=\"text\" placeholder=\"Find address\" aria-label=\"Number\" matInput [formGroup]=\"addressFinderForm\"\n                [formControl]=\"addressFinderControl\" [matAutocomplete]=\"auto\" formControlName=\"addressToFind\" panelWidth=5>\n              <mat-autocomplete lass=\"autocompletable\" #auto=\"matAutocomplete\" (optionSelected)=\"onChangeStreet($event)\">\n                <mat-option *ngFor=\"let street of filteredStreets | async\" [value]=\"street.wholeAddress\">\n                  {{street.wholeAddress}}\n                </mat-option>\n              </mat-autocomplete>\n            </mat-form-field>\n          </form>\n    </div>\n</div>\n\n<div *ngIf=\"streetsList.length < 1\"  style=\"margin-left: 5%;\">\n  <div >Address finder</div>\n    <p>Address finder is temporarily disabled</p>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\nimport { StreetsService } from 'src/app/services/streets.service';\nimport { InfoCardService } from '../services/info-card.service';\n\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport { Vector as VectorSource } from 'ol/source';\nimport VectorLayer from 'ol/layer/Vector';\nimport Collection from 'ol/Collection';\nimport WKT from 'ol/format/WKT';\nimport { StyleService } from 'src/app/services/style.service';\nimport { MapService } from 'src/app/services/map.service';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { StylePointsFeaturesService } from 'src/app/services/style-points-features.service';\n\n@Component({\n  selector: 'app-adress-finder',\n  templateUrl: './adress-finder.component.html',\n  styleUrls: ['./adress-finder.component.css']\n})\nexport class AdressFinderComponent implements OnInit {\n\n  addressFinderForm: FormGroup;\n  addressFinderControl = new FormControl();\n  filteredStreets: Observable<String[]>\n  streetsList: any[] = new Array;\n  format = new WKT();\n  foundAddressCollection = new Collection;\n\n  constructor(private streetsService: StreetsService,\n    private infoCardService: InfoCardService,\n    private stylePointsFeaturesService: StylePointsFeaturesService,\n    private mapService: MapService,\n    iconRegistry: MatIconRegistry,\n    sanitizer: DomSanitizer) {\n      \n    this.filteredStreets = this.addressFinderControl.valueChanges\n      .pipe(\n        startWith(''),\n        map(value => this._filterAdress(value))\n\n      );\n\n      iconRegistry.addSvgIcon(\n        'thumbs-up',\n        sanitizer.bypassSecurityTrustResourceUrl('assets/img/iconmonstr-plus-3.svg'));\n  }\n\n  ngOnInit(): void {\n\n    this.createAddressFinderForm();\n\n    this.streetsService.streetsList$.subscribe(data => {\n      if (data != null) {\n        this.streetsList = data;\n      }\n    })\n  }\n\n  createAddressFinderForm() {\n    this.addressFinderForm = new FormGroup({\n      addressToFind: new FormControl()\n    });\n  }\n\n  _filterAdress(value: string): any[] {\n    const filterValue = value;\n    let resultF: any[];\n    if (filterValue.length > 8) {\n      if (this.streetsList) {\n        resultF = this.streetsList.filter(street => {\n          if (street.wholeAddress != null) {\n            return street.wholeAddress.toLowerCase().includes(filterValue);\n          } else {\n            return false;\n          }\n        })\n      } else {\n        return null;\n      }\n    }\n    return resultF;\n  }\n\n  onChangeStreet(event: any) {\n    let address = event.option.value;\n    var matches = address.match(/(\\d+)/);\n    let streetWithOutNumber = address.substring(0, matches.index).trim() + '+';\n    let addressSplitted = address.split(\" \");\n    streetWithOutNumber += addressSplitted[0]\n    let cleanStreet = streetWithOutNumber.substring(streetWithOutNumber.indexOf(' '), streetWithOutNumber.length)\n    address = matches[0] + ',' + cleanStreet + ',madrid,spain';\n\n    //replace *****with you api key\n    this.infoCardService.getAdressCoordinates(address).subscribe(\n      data => {\n        //@ts-ignore\n        let foundAddressCoords = data.results[0].locations[0].latLng;\n\n        let formatCoords = 'POINT(' + foundAddressCoords.lng + ' ' + foundAddressCoords.lat + \" 216.7\" + ')';\n\n        let formatCoordsSplitted = formatCoords.split(' ');\n\n        let setViewPoint = formatCoordsSplitted[0] + ' ' + formatCoordsSplitted[1]+ ')';\n\n        let foundAddressCoordsFormatted = this.format.readFeature(formatCoords.replace(\n          /[\\W]*\\S+[\\W]*$/, '') + ')', { dataProjection: 'EPSG:4326', featureProjection: 'EPSG:3857' }).getGeometry().getCoordinates();\n\n        let foundAddressFeature = new Feature({\n          geometry: new Point(foundAddressCoordsFormatted)\n        });\n\n        this.stylePointsFeaturesService.applyStyleToFoundAdressMarker(foundAddressFeature);\n        this.foundAddressCollection.push(foundAddressFeature);\n\n        let foundAddressLayer = new VectorLayer({\n          name: 'foundAddress',\n          source: new VectorSource({\n            features: this.foundAddressCollection\n          })\n        })\n\n        this.mapService.map$.addLayer(foundAddressLayer);\n        \n        this.mapService.updateMapViewCenter(setViewPoint);\n      }\n    );\n  }\n\n}\n","<div style=\"width: 25%;\">\n  <mat-icon svgIcon=\"thumbs-up\" aria-hidden=\"false\" aria-label=\"Example thumbs up SVG icon\" matTooltip=\"Type a a number and find the nearest bike stations\"></mat-icon>\n  <div [formGroup]=\"positionCompositionForm\" >\n    <mat-form-field appearance=\"outline\">\n    <mat-label>Number of bike stations to be shown</mat-label>\n    <input matInput formControlName=\"numberOfResults\">\n    </mat-form-field>\n  </div>\n</div>\n<div style=\"width: 25%;\">\n  <button mat-raised-button color=\"primary\" (click)=\"getClosestStation()\" >Get nearests bike stations </button><br>\n</div>\n<p *ngIf=\"errorNumberResults\">Please, type an integer from 1 to 9</p>\n<button *ngIf=\"routeShowed\" mat-raised-button color=\"primary\" (click)=\"clearRoute()\" >Clear route </button>\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { TabledetailComponent } from 'src/app/components/tabledetail/tabledetail.component';\nimport { BikesLayerService } from 'src/app/services/bikes-layer.service';\nimport { MapService } from 'src/app/services/map.service';\nimport { UserService } from 'src/app/services/user.service';\n\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { InfoCardService } from '../services/info-card.service';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { RoutesService } from 'src/app/services/routes.service';\n\n@Component({\n  selector: 'app-closestations',\n  templateUrl: './closestations.component.html',\n  styleUrls: ['./closestations.component.css']\n})\nexport class ClosestationsComponent implements OnInit {\n\n  positionCompositionForm: FormGroup;\n  errorNumberResults = false;\n  nearestBikeStations: any = new Array;\n  userPosition = { 'lat': null, 'lng': null };\n  routeShowed:boolean=false;\n\n  constructor(private bikesLayerService: BikesLayerService,\n    private infoCardService: InfoCardService,\n    private mapService: MapService,\n    private routeService: RoutesService,\n    public dialog: MatDialog,\n    iconRegistry: MatIconRegistry,\n    sanitizer: DomSanitizer) { \n      this.routeService.route$.subscribe(route=>{\n        if(route != null){\n          this.routeShowed = true;\n        }\n      })\n    }\n\n  ngOnInit(): void {\n    this.createForm();\n    this.mapService.sendUserPositionToInfoCard$.subscribe(data => {\n      if (data != null) {\n        if (typeof (data) === 'object') {\n          //@ts-ignore\n          this.userPosition.lat = data.lat;\n          //@ts-ignore\n          this.userPosition.lng = data.lng;\n        } else {\n          let fakeAddressSplt = String(data).split(' ');\n          //@ts-ignore\n          this.userPosition.lat = fakeAddressSplt[1];\n          //@ts-ignore\n          this.userPosition.lng = fakeAddressSplt[0];\n        }\n      }\n    })\n  }\n\n  createForm() {\n    this.positionCompositionForm = new FormGroup({\n      'numberOfResults': new FormControl(),\n    });\n  }\n\n  getClosestStation() {\n    var re = new RegExp(\"^[1-9]\\d*$\");\n    if (this.positionCompositionForm.get('numberOfResults').value != null && re.test(this.positionCompositionForm.get('numberOfResults').value)) {\n      this.errorNumberResults = false;\n\n      let params = {\n        'numberOfResults': parseFloat(this.positionCompositionForm.get('numberOfResults').value),\n        //@ts-ignore\n        'coordinates': 'POINT (' + this.userPosition.lng + ' ' + this.userPosition.lat + '),3857)'\n      }\n      this.bikesLayerService.getClosestsStations(params).subscribe(\n        data => {\n          this.nearestBikeStations = data;\n          this.openTableDetail();\n          if (this.nearestBikeStations.length > 0) {\n            this.positionCompositionForm.get('numberOfResults').reset();\n          } else {\n\n          }\n        }\n      );\n\n\n    } else {\n      this.errorNumberResults = true;\n    }\n  }\n\n  openTableDetail() {\n    this.infoCardService.notifyClosestStations(this.nearestBikeStations);\n    const dialogRef = this.dialog.open(TabledetailComponent, {\n      width: '600px',\n    });\n    dialogRef.afterClosed().subscribe(result => {\n    });\n  }\n\n  clearRoute(){\n    this.routeShowed=false;\n    this.routeService.clearRoute();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InfoCardComponent } from './info-card/info-card.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from '../material-module';\nimport { ClosestationsComponent } from './closestations/closestations.component';\nimport { AdressFinderComponent } from './adress-finder/adress-finder.component';\n\n\n@NgModule({\n  declarations: [InfoCardComponent, ClosestationsComponent, AdressFinderComponent],\n  imports: [\n    CommonModule,ReactiveFormsModule, MaterialModule\n  ],\n  exports:[InfoCardComponent]\n})\nexport class InfoCardModule { }\n","  <div class=\"info-card container\">\n    <div class=\"row\">\n      <div class=\"col-sm\">\n        <app-closestations></app-closestations>\n      </div>\n      <div class=\"col-sm\">\n        <app-adress-finder></app-adress-finder>\n      </div>\n    </div>\n  </div>","import { Component, OnInit } from '@angular/core';\nimport { InfoCardService } from '../services/info-card.service';\n\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\n\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MapService } from '../../services/map.service';\n\ndeclare let L;\n\n@Component({\n  selector: 'app-info-card',\n  templateUrl: './info-card.component.html',\n  styleUrls: ['./info-card.component.css']\n})\nexport class InfoCardComponent implements OnInit {\n\n  streets: any = new Array;\n  myForm: FormGroup;\n  errorNumberResults = false;\n  zoomButtontext: String = 'Zoom to my position';\n  userPosition;\n  mobile: boolean;\n\n  constructor(private infoCardService: InfoCardService,\n    private mapService: MapService) {\n  }\n\n  ngOnInit(): void {\n\n    this.createAddressForm();\n\n    this.mapService.sendUserPositionToInfoCard$.subscribe(userPosition => {\n      this.userPosition = userPosition;\n    });\n\n    this.mapService.sendDevice$.subscribe(mobile => {\n      console.log(mobile)\n      this.mobile = mobile;\n    });\n  }\n\n  createAddressForm() {\n    this.myForm = new FormGroup({\n      firstName: new FormControl()\n    });\n  }\n\n\n  zoomTo() {\n\n\n    if (this.zoomButtontext === 'Zoom to my position') {\n      this.zoomButtontext = 'Zoom global'\n      //@ts-ignore\n      let userPosition ={\n        'position':this.userPosition,\n        'option': 'userPosition'\n      }\n      this.infoCardService.zoomTo(userPosition);\n    } else {\n      this.zoomButtontext = 'Zoom to my position'\n      let globalPosition ={\n        'position': [40.4167754,-3.7037902],\n        'option':'global'\n      }\n      this.infoCardService.zoomTo(globalPosition);\n      //mapLeaflet.setView([40.4167754, -3.7037902], 13);\n    }\n  }\n\n  _filterAdress(value: string): any[] {\n    const filterValue = value;\n    let resultF: any[];\n    if (filterValue.length > 8) {\n      if (this.streets) {\n        resultF = this.streets.filter(street => {\n          if (street.wholeAddress != null) {\n            return street.wholeAddress.toLowerCase().includes(filterValue);\n          } else {\n            return false;\n          }\n        })\n      } else {\n        return null;\n      }\n    }\n    return resultF;\n  }\n\n  onChangeStreet(event: any) {\n    let address = event.option.value;\n    var matches = address.match(/(\\d+)/);\n    let streetWithOutNumber = address.substring(0, matches.index).trim() + '+';\n    let addressSplitted = address.split(\" \");\n    streetWithOutNumber += addressSplitted[0]\n    let cleanStreet = streetWithOutNumber.substring(streetWithOutNumber.indexOf(' '), streetWithOutNumber.length)\n    address = matches[0] + ',' + cleanStreet + ',madrid,spain';\n\n    //replace *****with you api key\n    this.infoCardService.getAdressCoordinates(address).subscribe(\n      res => {\n\n         var myIcon = L.icon({\n           iconSize: [41, 51],\n           iconAnchor: [20, 51],\n           popupAnchor: [-3, -76],\n           shadowSize: [68, 95],\n\n           shadowAnchor: [22, 94]\n         });\n         myIcon.options.iconUrl = 'assets/leaflet/point.png';\n         //@ts-ignore\n         this.infoCardService.sendFoundAdressIconToMap(L.marker([res.results[0].locations[0].latLng.lat, res.results[0].locations[0].latLng.lng], {\n          icon: myIcon, clickable:\n            true, draggable: 'false'\n        }));\n      }, err => {\n        console.log(err)\n      }\n    )\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse  } from '@angular/common/http';\nimport { Observable, throwError,BehaviorSubject } from 'rxjs';\nimport { catchError, retry } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InfoCardService {\n\n  //private REST_API_SERVER = \"https://floating-reef-24535.herokuapp.com/api/EMTServices/\";\n  private REST_API_SERVER = \"https://localhost:8081/api/bikes/EMTServices/\";\n\n  private closetsStationsListOut = new BehaviorSubject<any[]>(null);\n  private iconOut = new BehaviorSubject<any[]>(null);\n  private zoomToOut = new BehaviorSubject<any[]>(null);\n\n  notifyClosestsStations$ = this.closetsStationsListOut.asObservable();\n  sendFoundAdressIconToMap$ = this.iconOut.asObservable();\n  zoomTo$ = this.zoomToOut.asObservable();\n\n  constructor(private httpClient: HttpClient) { }\n\n  handleError(error: HttpErrorResponse) {\n    let errorMessage = 'Unknown error!';\n    if (error.error instanceof ErrorEvent) {\n      // Client-side errors\n      errorMessage = `Error: ${error.error.message}`;\n    } else {\n      // Server-side errors\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\n    }\n    window.alert(errorMessage);\n    return throwError(errorMessage);\n  }\n\n  \n\n  getClosestsStations(params): Observable<any> {\n    return this.httpClient.post(this.REST_API_SERVER+'findClosestStations', params).pipe(catchError(this.handleError));\n  }\n\n  getAdressCoordinates(address: string){\n    return this.httpClient.get('https://www.mapquestapi.com/geocoding/v1/address?key=rap9nA00BZ9zIZLP1eWHyyyrRkqGdFVX&location=' + address).pipe(catchError(this.handleError));\n  }\n\n  notifyClosestStations(closetsStations: any) {\n    this.closetsStationsListOut.next(closetsStations);\n  }\n\n  sendFoundAdressIconToMap(icon: any) {\n    this.iconOut.next(icon);\n  }\n\n  zoomTo(userPosition: any) {\n    this.zoomToOut.next(userPosition);\n  }\n}\n","<div  class=\"container legend-container\">\n    <div class=\"row\">\n       <strong> <a class=\"element\">Bike station info</a></strong>\n    </div>\n    <div class=\"row\">\n       <div  id=\"elements\"><img src=\"assets/img/vehicle_color_1.png\" width=\"20\" height=\"20\" class=\"element\">\n          <span>Available {{bikesOrSlots}}</span>\n       </div>\n    </div>\n    <div class=\"row\">\n       <div  id=\"elements\"><img src=\"assets/img/vehicle_color_2.png\" width=\"20\" height=\"20\" class=\"element\">\n          <span> No Available {{bikesOrSlots}}</span>\n       </div>\n    </div>\n    <div class=\"row\">\n      <div id=\"toggle\" class=\"element\" >\n         <div >\n           Watch available {{bikesOrSlots}} <mat-slide-toggle class=\"example-margin\" [checked]=\"checked\" [disabled]=\"disabled\"\n             (change)=\"setBikeOrDot($event)\">\n           </mat-slide-toggle> \n         </div>\n       </div>\n      </div>\n    <div class=\"row\">\n       <strong> <a>Districts info</a></strong><br>\n    </div>\n    <div class=\"row\">\n       <div>\n          <img src=\"assets/leaflet/grey_dot.png\" width=\"20\" height=\"20\" class=\"element\">\n          <span>0 Bikes </span>\n       </div>\n    </div>\n    <div class=\"row\">\n       <img src=\"assets/leaflet/yellow_dot.png\" width=\"20\" height=\"20\" class=\"element\">\n       <span>Less than 50 bikes</span>\n    </div>\n    <div class=\"row\">\n       <img src=\"assets/leaflet/blue_dot.png\" width=\"20\" height=\"20\" class=\"element\">\n       <span>More than 50 bikes</span>\n    </div>\n    <!-- <div class=\"row\">\n    <div id=\"toggle\" class=\"element\" >\n       <div >\n         See bikes accidents heat map <mat-slide-toggle class=\"example-margin\" [checked]=\"checked\" [disabled]=\"disabled\"\n           (change)=\"toggleSlide($event)\">\n         </mat-slide-toggle> \n       </div>\n     </div>\n    </div> -->\n\n    \n </div>","import { Component, OnInit } from '@angular/core';\nimport { BikesLayerService } from 'src/app/services/bikes-layer.service';\nimport { StyleService } from 'src/app/services/style.service';\nimport { LegendService } from '../services/legend.service';\n\n@Component({\n  selector: 'app-bikes-legend',\n  templateUrl: './bikes-legend.component.html',\n  styleUrls: ['./bikes-legend.component.css']\n})\nexport class BikesLegendComponent implements OnInit {\n\n  constructor(private styleService: StyleService, private bikesLayerService: BikesLayerService, private legendService: LegendService) { }\n\n  bikesOrSlots:string = 'bikes';\n  checked = false;\n  disabled = false;\n\n  ngOnInit(): void {\n  }\n\n  setBikeOrDot(bikeOrDot: string){\n    \n    //@ts-ignore\n    if(bikeOrDot.checked){\n      this.bikesOrSlots='slots';\n      this.bikesLayerService.createBikeStationsFeatures('slots');\n      this.legendService.toggleChange();\n    }else{\n      this.bikesOrSlots='bikes';\n      this.bikesLayerService.createBikeStationsFeatures('bikes');\n      this.legendService.toggleChange();\n    }\n  }\n\n  // toggleSlide(event){\n  //   if(event.checked){\n  //     this.globalService.showHeatMap();\n  //   }else{\n  //     this.globalService.hideHeatMap();\n  //   }\n  // }\n\n}\n","<div class=\"bus-stops-container\" class=\"bus-stop-container\">\n    <strong> <a class=\"element\">Bus stops in 500 meters</a></strong>\n    <div *ngFor=\"let busStop of busStops\" class=\"bus-stop\">\n        <p>{{busStop.name}}</p>\n        <div class=\"row\" style=\"padding: 10%;\" >\n            <div class=\"line-container\" *ngFor=\"let busLineBean of busStop.busLineBeanList\">{{busLineBean.line}}</div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { BusesService } from 'src/app/services/buses.service';\n\n@Component({\n  selector: 'app-buses-legend',\n  templateUrl: './buses-legend.component.html',\n  styleUrls: ['./buses-legend.component.css']\n})\nexport class BusesLegendComponent implements OnInit {\n\n  busStops: any[];\n\n  constructor(private busesService: BusesService) {\n    this.busesService.notifyBuses$.subscribe(busStops => {\n      if (busStops != null) {\n         this.busStops = busStops;\n      }\n    });\n   }\n\n  ngOnInit(): void {\n    \n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LegendComponent } from './legend/legend.component';\nimport {MaterialModule} from '../material-module';\nimport { BikesLegendComponent } from './bikes-legend/bikes-legend.component';\nimport { BusesLegendComponent } from './buses-legend/buses-legend.component'\nimport { AuthModuleModule } from '../auth-module/auth-module.module';\n\n\n@NgModule({\n  declarations: [LegendComponent, BikesLegendComponent, BusesLegendComponent],\n  imports: [\n    CommonModule, MaterialModule, AuthModuleModule\n  ],\n  exports:[\n    LegendComponent\n  ]\n})\nexport class LegendModule { }\n","<div *ngIf=\"showInLegend ==='legend'\">\r\n  <mat-tab-group class=\"container legend-container\">\r\n    <mat-tab label=\"BiciMad\"> <app-bikes-legend></app-bikes-legend> </mat-tab>\r\n    <mat-tab label=\"Buses\"> <app-buses-legend></app-buses-legend> </mat-tab>\r\n    <mat-tab label=\"Parking\" > <p (click)=\"getFreePlaces()\">test</p> </mat-tab>\r\n  </mat-tab-group>\r\n</div>\r\n<div *ngIf=\"showInLegend ==='login'\">\r\n  <div class=\"container legend-container\">\r\n    <app-login></app-login>\r\n  </div>\r\n</div>\r\n<div *ngIf=\"showInLegend ==='register'\">\r\n  <div class=\"container legend-container\">\r\n    <app-register></app-register>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from 'src/app/auth-module/services/auth.service';\r\nimport { BikesLayerService } from 'src/app/services/bikes-layer.service';\r\nimport { ParkingService } from 'src/app/services/parking.service';\r\nimport { StyleService } from 'src/app/services/style.service';\r\nimport { UpperBarService } from 'src/app/upper-bar/services/upper-bar.service';\r\n@Component({\r\n  selector: 'app-legend',\r\n  templateUrl: './legend.component.html',\r\n  styleUrls: ['./legend.component.css']\r\n})\r\nexport class LegendComponent implements OnInit {\r\n\r\n  showInLegend: string = 'legend';\r\n\r\n  constructor(private upperBarService: UpperBarService, private authService: AuthService, private parkingService: ParkingService) { \r\n    this.upperBarService.uopenLogin$.subscribe(\r\n      data=>{\r\n        if(data != null){\r\n          this.showInLegend= data;\r\n        }else{\r\n          this.showInLegend= 'legend';\r\n        }\r\n        \r\n      }\r\n    )\r\n    this.authService.userToken$.subscribe(userToken => {\r\n      if(userToken != null){\r\n        this.showInLegend = 'legend';\r\n      }\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.showInLegend = 'legend';\r\n  }\r\n\r\n  getFreePlaces(){\r\n\r\n    let userLocation = localStorage.getItem('userLocationCoords').split(' ');\r\n\r\n    console.log(userLocation)\r\n\r\n    let params = {\r\n      'userToken':localStorage.getItem('JWT_TOKEN'),\r\n      'lat':userLocation[0],\r\n      'lng':userLocation[1]\r\n    }\r\n    this.parkingService.getFreeParkingPlaces(params).subscribe();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LegendService {\n\n  private toggleChangeOut = new BehaviorSubject<any>(null);\n\n  toggleChange$ = this.toggleChangeOut.asObservable();\n\n  constructor() { }\n\n  toggleChange(){\n    this.notifyToggleChange(0);\n  }\n\n  notifyToggleChange(zero:number){\n    this.toggleChangeOut.next(zero);\n  }\n}\n","import {NgModule} from '@angular/core';\r\nimport {MatButtonModule} from '@angular/material/button'\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport {MatTableModule} from '@angular/material/table';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatTooltipModule} from '@angular/material/tooltip';\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\n@NgModule({\r\n    exports:[\r\n        MatButtonModule,\r\n        MatFormFieldModule,\r\n        MatInputModule,\r\n        MatSlideToggleModule,\r\n        MatExpansionModule,\r\n        MatTableModule,\r\n        MatDialogModule,\r\n        MatAutocompleteModule,\r\n        MatSelectModule,\r\n        MatIconModule,\r\n        MatTooltipModule,\r\n        MatTabsModule,\r\n        MatToolbarModule,\r\n        MatProgressSpinnerModule\r\n    ]\r\n})\r\nexport class MaterialModule{}","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, retry, shareReplay } from 'rxjs/operators';\n\nimport Heatmap from 'ol/layer/Heatmap';\nimport { Vector as VectorSource } from 'ol/source';\nimport VectorLayer from 'ol/layer/Vector';\nimport Collection from 'ol/Collection';\nimport Feature from 'ol/Feature';\nimport WKT from 'ol/format/WKT';\nimport Point from 'ol/geom/Point';\nimport { MapService } from './map.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class BikeAccidentService {\n\n  //private REST_API_SERVER = \"https://floating-reef-24535.herokuapp.com/api/bikes/EMTServices/\";\n  private REST_API_SERVER = \"http://localhost:8081/api/bikes/EMTServices/\";\n\n  private bikeAccidents: any;\n\n  bikeAccidentsCollection = new Collection;\n\n  format = new WKT();\n\n  constructor(private httpClient: HttpClient, private mapService: MapService) {\n    this.getBikeAccidents();\n  }\n\n  handleError(error: HttpErrorResponse) {\n    let errorMessage = 'Unknown error!';\n    if (error.error instanceof ErrorEvent) {\n      // Client-side errors\n      errorMessage = `Error: ${error.error.message}`;\n    } else {\n      // Server-side errors\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\n    }\n    window.alert(errorMessage);\n    return throwError(errorMessage);\n  }\n\n  public getBikeAccidents(): Observable<any[]> {\n\n    this.httpClient.get(this.REST_API_SERVER + 'getBikeAccidents').subscribe(\n      res => {\n        this.createHeatMap(res)\n      }, err => {\n\n      }\n    )\n    return this.bikeAccidents;\n  }\n\n  createHeatMap(res) {\n\n    // res.forEach(bikeAccident => {\n\n    //   let bikeAccidentCoords = this.format.readFeature(bikeAccident.accidentPoint, { dataProjection: 'EPSG:4326', featureProjection: 'EPSG:3857' }).getGeometry().getCoordinates()\n\n\n    //   let bikeAccidentFeature = new Feature({\n    //     geometry: new Point(bikeAccidentCoords)\n    //   });\n    //   this.bikeAccidentsCollection.push(bikeAccidentFeature);\n    // });\n\n    // let bikeAccidentsLayer = new VectorLayer({\n    //   name: 'bikeAccidents',\n    //   source: new VectorSource({\n    //     features: this.bikeAccidentsCollection\n    //   })\n    // })\n    // let heatmap = new Heatmap({\n    //   source: bikeAccidentsLayer\n    // });\n\n    //this.mapService.map$.addLayer(heatmap);\n\n  }\n\n}\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/internal/Observable';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { AuthModel } from '../models/authResponse.model';\r\n\r\nimport Feature from 'ol/Feature';\r\nimport Point from 'ol/geom/Point';\r\nimport { Vector as VectorSource } from 'ol/source';\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport Collection from 'ol/Collection';\r\n\r\nimport WKT from 'ol/format/WKT';\r\nimport { MapService } from './map.service';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { throwError,BehaviorSubject, interval, Subscription } from 'rxjs';\r\nimport { StyleService } from './style.service';\r\nimport { AuthModuleModule } from '../auth-module/auth-module.module';\r\nimport { AuthService } from '../auth-module/services/auth.service';\r\nimport { TabledetailService } from '../components/tabledetail/services/tabledetail.service';\r\nimport { StylePointsFeaturesService } from './style-points-features.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BikesLayerService {\r\n\r\n  bikeStations;\r\n\r\n  token: string;\r\n\r\n  private bikesOut = new BehaviorSubject<boolean>(null);\r\n\r\n  bikes$ = this.bikesOut.asObservable();\r\n\r\n  private REST_API_SERVER = \"https://floating-reef-24535.herokuapp.com/api/bikes/EMTServices/\";\r\n  //private REST_API_SERVER = \"http://localhost:8081/api/bikes/EMTServices/\";\r\n\r\n  biciMadAPIStatus;\r\n  accesToken;\r\n  response: any;\r\n  format = new WKT();\r\n  //bikeStations: any[] = new Array;\r\n  bikeStationsCollection = new Collection;\r\n  selectedBikeStationCollection = new Collection;\r\n  userPosition = { 'lat': null, 'lng': null };\r\n  stationId;\r\n  subscription: Subscription;\r\n\r\n  constructor(private httpClient: HttpClient, \r\n    private mapService : MapService,\r\n    private stylePointsFeaturesService: StylePointsFeaturesService,\r\n    private authService: AuthService,\r\n    private tabledetailService:TabledetailService,\r\n    ) {\r\n      const source = interval(30000);\r\n      this.subscription = source.subscribe(val => this.getBikeStations());\r\n      this.mapService.sendUserPositionToInfoCard$.subscribe(data => {\r\n        if (data != null) {\r\n          if (typeof (data) === 'object') {\r\n            //@ts-ignore\r\n            this.userPosition.lat = data.lat;\r\n            //@ts-ignore\r\n            this.userPosition.lng = data.lng;\r\n            this.bikeStations= this.getBikeStations();\r\n          } else {\r\n            let fakeAddressSplt = String(data).split(' ');\r\n            //@ts-ignore\r\n            this.userPosition.lat = fakeAddressSplt[1];\r\n            //@ts-ignore\r\n            this.userPosition.lng = fakeAddressSplt[0];\r\n            this.bikeStations= this.getBikeStations();\r\n          }\r\n        }\r\n      })\r\n    \r\n      this.authService.emtToken$.subscribe(token=>{\r\n        if(token != null){\r\n          this.token = token;\r\n          this.bikeStations= this.getBikeStations();\r\n        }\r\n      })\r\n\r\n      this.tabledetailService.selectedStationId$.subscribe(stationId=>{\r\n        if(stationId != null){\r\n          this.stationId = stationId;\r\n          this.addSelected();\r\n        }\r\n      })\r\n  }\r\n\r\n  handleError(error: HttpErrorResponse) {\r\n    let errorMessage = 'Unknown error!';\r\n    if (error.error instanceof ErrorEvent) {\r\n      // Client-side errors\r\n      errorMessage = `Error: ${error.error.message}`;\r\n    } else {\r\n      // Server-side errors\r\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n    }\r\n    window.alert(errorMessage);\r\n    return throwError(errorMessage);\r\n  }\r\n\r\n  getClosestsStations(params): Observable<any> {\r\n    return this.httpClient.post(this.REST_API_SERVER+'findClosestStations', params).pipe(catchError(this.handleError));\r\n  }\r\n\r\n\r\n\r\n  getBikeStations(){\r\n    if(this.token != undefined && this.userPosition.lng != undefined){\r\n      this.httpClient.get(this.REST_API_SERVER+'checkAvaibility',{\r\n        params: {\r\n          'emtToken': this.token,\r\n        }\r\n      }\r\n     // this.httpClient.get('http://localhost:8081/api/EMTServices/checkAvaibility',\r\n  //    params: {\r\n  //     'emtToken': this.token,\r\n  //   }\r\n  // }\r\n      ).subscribe(\r\n        res =>{\r\n          this.response = res;\r\n          this.createBikeStationsFeatures();\r\n        }\r\n      )\r\n    }\r\n    \r\n  }\r\n\r\n  createBikeStationsFeatures(bikeOrSlot?: string){\r\n    this.bikeStationsCollection = new Collection;\r\n    this.response.forEach(bikeStation =>{\r\n\r\n      let splitCoords = bikeStation.pointsList.coordinates.split(' ');\r\n\r\n      let formatCoords= 'POINT('+splitCoords[0]+ ' '+ splitCoords[1]+\" 216.7\"+')';\r\n\r\n      let bikeStationCoords = this.format.readFeature(formatCoords.replace(\r\n        /[\\W]*\\S+[\\W]*$/, '') + ')', { dataProjection: 'EPSG:4326', featureProjection: 'EPSG:3857' }).getGeometry().getCoordinates();\r\n\r\n        let bikeStationFeature = new Feature({\r\n          geometry: new Point(bikeStationCoords)\r\n        });\r\n\r\n        bikeStationFeature.setId(bikeStation.stationId);\r\n\r\n        bikeStationFeature.setProperties({ 'availableBikes':bikeStation.availableBikes, 'availableSlots': bikeStation.freeDocks, \r\n        'stationId':bikeStation.stationId, 'name':bikeStation.name, 'updatedAt':bikeStation.updatedAt, 'address':bikeStation.address });\r\n  \r\n        if(bikeOrSlot === undefined){\r\n          this.stylePointsFeaturesService.applyStyleToMarker(bikeStationFeature,bikeStation);\r\n        }else{\r\n          this.stylePointsFeaturesService.applyStyleToMarker(bikeStationFeature,bikeStation, bikeOrSlot);\r\n        }\r\n        \r\n        this.bikeStationsCollection.push(bikeStationFeature);\r\n    })\r\n\r\n    let bikeStationsLayer = new VectorLayer({\r\n\t\t\tname: 'bikeStations',\r\n\t\t\tsource: new VectorSource({\r\n\t\t\t\tfeatures: this.bikeStationsCollection\r\n\t\t\t})\r\n    })\r\n\r\n\r\n  for(let i = 0; i < this.mapService.map$.getLayers().getArray().length;i++){\r\n    if(this.mapService.map$.getLayers().getArray()[i].getProperties().name === 'bikeStations'){\r\n      this.mapService.map$.removeLayer(this.mapService.map$.getLayers().getArray()[i]);\r\n    }\r\n  } \r\n    this.mapService.map$.addLayer(bikeStationsLayer);\r\n    \r\n    this.notifyBikes(true);\r\n  }\r\n\r\n  notifyBikes(bikesLoaded){\r\n    this.bikesOut.next(bikesLoaded)\r\n  }\r\n\r\n  addSelected(){\r\n    this.removeSelectedBikeStation();\r\n    for(let i = 0; i < this.mapService.map$.getLayers().getArray().length;i++){\r\n      \r\n      if(this.mapService.map$.getLayers().getArray()[i].getProperties().name === 'bikeStations'){\r\n        let selectedFeature = this.mapService.map$.getLayers().getArray()[i].getSource().getFeatureById(this.stationId);\r\n        let selectedFeatureCoords =  selectedFeature.getGeometry().getCoordinates();\r\n        let bikeStationFeature = new Feature({\r\n          geometry: new Point(selectedFeatureCoords)\r\n        });\r\n\r\n        bikeStationFeature.setId(this.stationId.stationId);\r\n\r\n        //bikeStationFeature.setProperties({ 'availableBikes':bikeStation.availableBikes, 'availableSlots': bikeStation.freeDocks, 'stationId':bikeStation.stationId });\r\n        this.stylePointsFeaturesService.applyStyleToSelectedFeature(bikeStationFeature);\r\n\r\n        this.selectedBikeStationCollection = new Collection;\r\n        this.selectedBikeStationCollection.push(bikeStationFeature);\r\n\r\n        let selectedbikeStationLayer = new VectorLayer({\r\n          name: 'selectedBikeStation',\r\n          source: new VectorSource({\r\n            features: this.selectedBikeStationCollection\r\n          })\r\n        })\r\n\r\n        this.mapService.map$.addLayer(selectedbikeStationLayer);\r\n        break;\r\n      }\r\n      \r\n    } \r\n  }\r\n\r\n  removeSelectedBikeStation(){\r\n    for(let i = 0; i < this.mapService.map$.getLayers().getArray().length;i++){\r\n      \r\n      if(this.mapService.map$.getLayers().getArray()[i].getProperties().name === 'selectedBikeStation'){\r\n        this.mapService.map$.removeLayer(this.mapService.map$.getLayers().getArray()[i]);\r\n      }}\r\n  }\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { catchError } from 'rxjs/operators';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { BehaviorSubject } from 'rxjs';\nimport { AuthService } from '../auth-module/services/auth.service';\nimport { MapService } from './map.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BusesService {\n\n  //private REST_API_SERVER = \"https://floating-reef-24535.herokuapp.com/api/buses/EMTServices/\";\n  private REST_API_SERVER = \"http://localhost:8081/api/buses/EMTServices/\";\n\n  token: string;\n\n  userPosition = { 'lat': null, 'lng': null };\n\n  private busesListOut = new BehaviorSubject<any[]>(null);\n  notifyBuses$ = this.busesListOut.asObservable();\n\n  constructor(private httpClient: HttpClient,private authService: AuthService, private mapService: MapService) {\n    //unavailable by now\n    //this.getBusStops();\n    this.authService.emtToken$.subscribe(token=>{\n      if(token != null){\n        this.token = token;\n        this.getBusStopsAroundUser();\n      }\n    });\n    this.mapService.sendUserPositionToInfoCard$.subscribe(data => {\n      if (data != null) {\n        if (typeof (data) === 'object') {\n          //@ts-ignore\n          this.userPosition.lat = data.lat;\n          //@ts-ignore\n          this.userPosition.lng = data.lng;\n          this.getBusStopsAroundUser();\n        } else {\n          let fakeAddressSplt = String(data).split(' ');\n          //@ts-ignore\n          this.userPosition.lat = fakeAddressSplt[1];\n          //@ts-ignore\n          this.userPosition.lng = fakeAddressSplt[0];\n          this.getBusStopsAroundUser();\n        }\n      }\n    })\n   }\n\n  getBusStops(){\n\n    this.httpClient.get(this.REST_API_SERVER+'getBusStops').subscribe(\n    //this.httpClient.get('http://localhost:8081/api/buses/EMTServices/getBusStops').subscribe(\n      res=>{\n        console.log(res)\n      }\n    )\n\n  }\n\n  getBusStopsAroundUser(){\n\n    if(this.token != undefined && this.userPosition.lng != undefined){\n      let lng = this.userPosition.lng;\n      let lat = this.userPosition.lat;\n  \n      this.httpClient.get(this.REST_API_SERVER+'getBusStopsAroundUser', {\n        params: {\n          'emtToken':this.token,\n          'lng': lng,\n          'lat': lat,\n        }\n      }).subscribe(\n        res=>{\n          this.notifyBuses(res);\n        },\n        err =>{\n        }\n      )\n    }\n  }\n\n  notifyBuses(busStops: any) {\n    this.busesListOut.next(busStops);\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\nimport * as olProj from 'ol/proj';\nimport Polygon from 'ol/geom/Polygon';\nimport MultiPolygon from 'ol/geom/MultiPolygon';\nimport Feature from 'ol/Feature';\nimport Collection from 'ol/Collection';\nimport VectorLayer from 'ol/layer/Vector';\nimport { Vector as VectorSource } from 'ol/source';\nimport { Style, Icon as IconStyle, Text, Fill, Stroke, Circle as CircleStyle } from 'ol/style';\n\nimport { MapService } from './map.service';\nimport { StyleService } from './style.service';\nimport { BikesLayerService } from './bikes-layer.service';\nimport { StylePolygonFeaturesService } from './style-polygon-features.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DistrictsService {\n\n  response: any;\n  districtsFeaturesCollection = new Collection;\n  alreadyDistricts: boolean = false;\n  \n  constructor(private httpClient: HttpClient, private mapService: MapService, private stylePolygonFeaturesService: StylePolygonFeaturesService, private bikesService: BikesLayerService) {\n    \n    this.bikesService.bikes$.subscribe(bikes=>{\n      if(bikes && !this.alreadyDistricts){\n        this.getDistricts()\n        this.alreadyDistricts = true;\n      }\n      \n    })\n  }\n\n  getDistricts() {\n    //this.httpClient.get('https://floating-reef-24535.herokuapp.com/api/urban/EMTServices/getDistricts').subscribe(\n      this.httpClient.get('http://localhost:8081/api/urban/EMTServices/getDistricts').subscribe(\n      res => {\n        this.response = res;\n        this.createDistrictsFeatures()\n      },\n      err=>{\n        console.log(err)\n      }\n    )\n  }\n\n  createDistrictsFeatures() {\n\n    let totalBikes = 0;\n    let districtsArrayCoords = new Array;\n    let districtsArrayInfo = new Array;\n\n    \n    for (let i = 0; i < this.response.length; i++) {\n      let pair = this.response[i].geom.substring(16, this.response[i].geom.length - 3).split(',')\n      let coordsDistrictArray = new Array;\n      let districtObj = {\n        'totalBikes':null,\n        'districtName':null\n      }\n    \n      for (let j = 0; j < pair.length; j++) {\n        let coordsPair = new Array;\n        pair[j].trim();\n        let split = pair[j].trim().split(' ')\n        let lat = split[0]\n        let lng = split[1]\n        coordsPair.push(parseFloat(lat));\n        coordsPair.push(parseFloat(lng));\n        coordsDistrictArray.push(coordsPair);\n      }\n      districtsArrayCoords.push(coordsDistrictArray)\n      districtObj.totalBikes = this.response[i].totalBikes;\n      districtObj.districtName = this.response[i].name;\n      districtsArrayInfo.push(districtObj)\n    }\n    for (let i = 0; i < districtsArrayCoords.length; i++) {\n      //for(let j = 0; j < districtsArrayCoords[i].length; j++){\n        let coorsTranform = districtsArrayCoords[i].map((coordinate) => {\n          return olProj.transform([coordinate[0], coordinate[1]], 'EPSG:4326', 'EPSG:3857');\n        });\n        let feature = new Feature({\n  \n          geometry: new Polygon([\n            coorsTranform\n          ])\n        });\n  \n        feature.setProperties({'totalBikes':districtsArrayInfo[i]})\n  \n         this.stylePolygonFeaturesService.applyStyleToDistricts(feature);\n        // feature.setId(coordsArray[i].name);\n    \n        this.districtsFeaturesCollection.push(feature)\n     // }\n      \n    }\n\n    let districtsLayer = new VectorLayer({\n\t\t\tname: 'districts',\n\t\t\tsource: new VectorSource({\n\t\t\t\tfeatures: this.districtsFeaturesCollection\n\t\t\t})\n    })\n    this.mapService.map$.addLayer(districtsLayer);\n\n    let bikeStationsLayer;\n\n    //putting pins over districts layer\n    for(let i = 0; i < this.mapService.map$.getLayers().getArray().length;i++){\n      if(this.mapService.map$.getLayers().getArray()[i].getProperties().name === 'bikeStations'){\n        console.log(this.mapService.map$.getLayers().getArray()[i].getProperties().name )\n         bikeStationsLayer = this.mapService.map$.getLayers().getArray()[i];\n        this.mapService.map$.removeLayer(this.mapService.map$.getLayers().getArray()[i]);\n      }\n    } \n    this.mapService.map$.addLayer(bikeStationsLayer);\n  }\n\n  \n\n  applyStyleToDistrict(feature){\n\n    let plots_styles = [];\n\n    plots_styles.push(\n\n      new Style({\n        fill: new Fill({\n          color: [255, 255, 255, 0.5]\n        }),\n        text: new Text({\n\t\t\t\t\t \ttextAlign: 'center',\n\t\t\t\t\t \tfont: '9px',\n\t\t\t\t\t \ttextBaseline: 'top',\n\t\t\t\t\t \t// text: plotInfo.name,\n\t\t\t\t\t \tscale: 1.5,\n\t\t\t\t\t \toffsetX: 0,\n\t\t\t\t\t \toffsetY: 4,\n\t\t\t\t\t \t fill: new Fill({\n\t\t\t\t\t \t \tcolor: 'black'\n\t\t\t\t\t \t }),\n\t\t\t\t\t \t\n\t\t\t\t\t \tstroke: new Stroke({\n\t\t\t\t\t \t\twidth: 0\n\t\t\t\t\t \t})\n\t\t\t\t\t })\n      })\n    );\n\n    feature.setStyle(plots_styles);\n\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { Observable, throwError,BehaviorSubject } from 'rxjs';\r\nimport { catchError, retry } from 'rxjs/operators';\r\n\r\n//OpenLayers\r\nimport { Map } from 'ol';\r\nimport { defaults as defaultInteractions } from 'ol/interaction';\r\nimport WKT from 'ol/format/WKT';\r\n//import Icon from 'ol/style/Icon';\r\nimport Feature from 'ol/Feature';\r\nimport TileLayer from 'ol/layer/Tile.js';\r\nimport { BingMaps } from 'ol/source';\r\nimport Select from 'ol/interaction/Select';\r\nimport { OSM } from 'ol/source';\r\nimport { Vector as VectorSource } from 'ol/source';\r\nimport { Vector as VectorLayer } from 'ol/layer';\r\nimport View from 'ol/View';\r\nimport { getCenter } from 'ol/extent';\r\n//import { TranslateService } from '@ngx-translate/core';\r\n//import * as moment from 'moment';\r\n\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { stringify } from 'querystring';\r\nimport { InfoPopupComponent } from '../components/info-popup/info-popup.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { LegendService } from '../legend/services/legend.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MapService {\r\n\r\n  map;\r\n  layers = [];\r\n  viewCoordinates: String = 'POINT(-3.703606430985161 40.41666320878426)';\r\n  view;\r\n  format = new WKT();\r\n  selectIndex: number=0;\r\n\r\n  private userPositionOut = new BehaviorSubject<any[]>(null);\r\n  private deviceOut = new BehaviorSubject<boolean>(null);\r\n  sendUserPositionToInfoCard$ = this.userPositionOut.asObservable();\r\n  sendDevice$ = this.deviceOut.asObservable();\r\n\r\n  constructor(public dialog: MatDialog,private legendService: LegendService) {\r\n    this.legendService.toggleChange$.subscribe(index =>{\r\n      if(index != null){\r\n        this.selectIndex=index;\r\n      }\r\n    })\r\n   }\r\n\r\n  sendUserPositionToInfoCard(userPosition: any) {\r\n    this.userPositionOut.next(userPosition);\r\n  }\r\n\r\n  sendDevice(device: boolean){\r\n    this.deviceOut.next(device);\r\n  }\r\n\r\n  get map$() {\r\n    return this.map;\r\n  }\r\n\r\n  renderMap() {\r\n    this.layers = [\r\n      new TileLayer({\r\n        name: 'base',\r\n        source: new BingMaps({\r\n          key: 'AlqHetBTtIFed0g61VUmEq079AmyyXfR9FPcqzBt13dvYZsuowl7ZTMFtWJik0LL',\r\n          imagerySet: ['CanvasDark']\r\n        })\r\n      })\r\n    ];\r\n\r\n    this.view = new View({\r\n      center: this.format.readFeature(this.viewCoordinates, { dataProjection: 'EPSG:4326', featureProjection: 'EPSG:3857' }).getGeometry().getCoordinates(),\r\n      zoom: 17,\r\n      maxZoom: 20,\r\n    });\r\n\r\n    let interactions = defaultInteractions({ altShiftDragRotate: false, pinchRotate: false });\r\n\r\n    this.map = new Map({\r\n      layers: this.layers,\r\n      target: document.getElementById('map'),\r\n      controls: [],\r\n      view: this.view,\r\n      interactions: interactions\r\n\r\n    });\r\n  }\r\n\r\n  updateMapViewCenter(viewCoordinates){\r\n    this.viewCoordinates = new String;\r\n    \r\n    this.viewCoordinates = viewCoordinates;\r\n    this.view = new View({\r\n      center: this.format.readFeature(this.viewCoordinates, { dataProjection: 'EPSG:4326', featureProjection: 'EPSG:3857' }).getGeometry().getCoordinates(),\r\n      zoom: 17,\r\n      maxZoom: 20,\r\n    });\r\n    \r\n    this.map.setView(this.view)\r\n  }\r\n\r\n  selectOnMap(){\r\n    let bikeStationsLayerIndex;\r\n    let dialog = this.dialog;\r\n    for(let i = 0; i < this.map$.getLayers().getArray().length;i++){\r\n      if(this.map$.getLayers().getArray()[i].values_.name === 'bikeStations'){\r\n        bikeStationsLayerIndex=i;\r\n      }\r\n    }\r\n    let targetLayer = this.map$.getLayers().getArray()[bikeStationsLayerIndex];\r\n    \r\n     let select = new Select({\r\n       layers: [targetLayer],\r\n       //style:selectStyle\r\n     });\r\n     \r\n      select.getFeatures().on('change:length', function (e) {\r\n        var feature_buff = select.getFeatures();\r\n        if(feature_buff.getLength() >0){\r\n            for (var i = 0; i < feature_buff.getLength(); i++) {\r\n              const dialogRef = dialog.open(InfoPopupComponent, {\r\n                width: '600px',\r\n              });\r\n              dialogRef.componentInstance.totalBikes = feature_buff.item(0).values_.availableBikes;\r\n              dialogRef.componentInstance.availableSlots = feature_buff.item(0).values_.availableSlots;\r\n              dialogRef.componentInstance.name = feature_buff.item(0).values_.name;\r\n              dialogRef.componentInstance.address = feature_buff.item(0).values_.address;\r\n              dialogRef.componentInstance.updatedAt = feature_buff.item(0).values_.updatedAt;\r\n            }\r\n          \r\n          //detecta cuando no se hace click sobre alguna feature\r\n        }else{\r\n          // vehiclesRoutesService.openInfoCard(null);\r\n          // sharedService.updateVehicleSelection(null);\r\n        }\r\n         \r\n      });\r\n      if(this.selectIndex <1){\r\n        this.selectIndex++;\r\n        this.map$.addInteraction(select);\r\n      }\r\n  }\r\n}\r\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ParkingService {\n\n  private REST_API_SERVER = \"http://localhost:8081/api/parking/EMTServices/\";\n\n  constructor(private httpClient: HttpClient) { }\n\n  getFreeParkingPlaces(params):Observable<any>{\n    return this.httpClient.post(this.REST_API_SERVER+'checkIfUserInParking', params).pipe(catchError(error => {\n      if (error instanceof HttpErrorResponse && error.status === 401) {\n        //return this.handle401Error(request, next);\n      } else {\n        console.log(error)\n        return throwError(error);\n      }\n    }));\n  }\n}\n","import { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\nimport Feature from 'ol/Feature';\nimport LineString from 'ol/geom/Point';\nimport { Vector as VectorSource } from 'ol/source';\nimport VectorLayer from 'ol/layer/Vector';\nimport Collection from 'ol/Collection';\nimport WKT from 'ol/format/WKT';\nimport { MapService } from './map.service';\nimport { StyleLineFeaturesService } from './style-line-features.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RoutesService {\n\n  lineCollection = new Collection;\n  format = new WKT();\n\n  private routeOut = new BehaviorSubject<boolean>(null);\n\n  route$ = this.routeOut.asObservable();\n\n  constructor(private httpClient: HttpClient, private mapService:MapService, private styleLineFeaturesService:StyleLineFeaturesService) { }\n\n  getRoute(userCoords,bikeStationCoords):Observable<any>{\n    \n    let userCoordsStr = userCoords.lng+ ','+userCoords.lat;\n    let bikeStationCoordsStr = bikeStationCoords.lat+ ','+bikeStationCoords.lng\n\n     //http://www.mapquestapi.com/directions/v2/route?key=rap9nA00BZ9zIZLP1eWHyyyrRkqGdFVX&from=Clarendon Blvd,Arlington,VA&to=2400+S+Glebe+Rd,+Arlington,+VA\n    return this.httpClient.get('https://api.openrouteservice.org/v2/directions/foot-walking?api_key=5b3ce3597851110001cf62485f1920e92dc94c50bc5c40c1b2d2ed46&start='\n     +userCoordsStr+'&end='+bikeStationCoordsStr).pipe(catchError(error => {\n      if (error instanceof HttpErrorResponse && error.status === 401) {\n        //return this.handle401Error(request, next);\n      } else {\n        console.log(error)\n        return throwError(error);\n      }\n    }));\n  }\n\n  createRouteLayer(coordinates){\n    this.lineCollection=new Collection;\n    coordinates.forEach(coordinates =>{\n\n      //let splitCoords = coordinates.pointsList.coordinates.split(' ');\n\n      let formatCoords= 'POINT('+coordinates[0]+ ' '+ coordinates[1]+\" 216.7\"+')';\n\n      let lineCoords = this.format.readFeature(formatCoords.replace(\n        /[\\W]*\\S+[\\W]*$/, '') + ')', { dataProjection: 'EPSG:4326', featureProjection: 'EPSG:3857' }).getGeometry().getCoordinates();\n\n        let lineFeature = new Feature({\n          geometry: new LineString(lineCoords)\n        });\n\n        // bikeStationFeature.setId(coordinates.stationId);\n\n        // bikeStationFeature.setProperties({ 'availableBikes':coordinates.availableBikes, 'availableSlots': coordinates.freeDocks, \n        // 'stationId':coordinates.stationId, 'name':coordinates.name, 'updatedAt':coordinates.updatedAt, 'address':coordinates.address });\n  \n           //this.styleLineFeaturesService.styleRoute(lineFeature);\n        \n        this.lineCollection.push(lineFeature);\n    });\n\n    let routeLayer = new VectorLayer({\n\t\t\tname: 'route',\n\t\t\tsource: new VectorSource({\n\t\t\t\tfeatures: this.lineCollection\n\t\t\t})\n    })\n    this.clearRoute();\n    this.mapService.map$.addLayer(routeLayer);\n    this.notifyRoute();\n  }\n\n  clearRoute(){\n    for(let i = 0; i < this.mapService.map$.getLayers().getArray().length;i++){\n      if(this.mapService.map$.getLayers().getArray()[i].getProperties().name === 'route'){\n        this.mapService.map$.removeLayer(this.mapService.map$.getLayers().getArray()[i]);\n      }\n    }\n  }\n\n  notifyRoute(){\n    this.routeOut.next(true);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Style, Icon as IconStyle, Text, Fill, Stroke, Circle as CircleStyle } from 'ol/style';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StreetsStyleService {\n\n  constructor() { }\n\n  styleStreets(feature){\n    let lineStyle = [];\n\n    let streetsStyle = new Style({\n      stroke: new Stroke({ color: 'yellow', width: 5 }),\n    })\n    lineStyle.push(streetsStyle);\n    feature.setStyle(lineStyle);\n  }\n}\n","import { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\nimport Feature from 'ol/Feature';\nimport LineString from 'ol/geom/LineString';\nimport { Vector as VectorSource } from 'ol/source';\nimport VectorLayer from 'ol/layer/Vector';\nimport Collection from 'ol/Collection';\n\n\nimport WKT from 'ol/format/WKT';\nimport { MapService } from './map.service';\nimport { StreetsStyleService } from './streets-style.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StreetsService {\n\n  private streets;\n  streetsCollection = new Collection;\n  streetsList =  new Array;\n\n  format = new WKT();\n\n  //private REST_API_SERVER = \"https://floating-reef-24535.herokuapp.com/api/urban/EMTServices/\";\n  private REST_API_SERVER = \"http://localhost:8081/api/urban/EMTServices/\";\n\n  private streetsListOut = new BehaviorSubject<any[]>(null);\n\n  streetsList$ = this.streetsListOut.asObservable();\n\n  constructor(private httpClient: HttpClient,private mapService : MapService, private streetsStyleService:StreetsStyleService) {\n    this.getStreets().subscribe(data =>{\n      this.notifyStreets(data)\n    })\n\n    this.getStreetsTopo();\n   }\n\n  handleError(error: HttpErrorResponse) {\n    let errorMessage = 'Unknown error!';\n    if (error.error instanceof ErrorEvent) {\n      // Client-side errors\n      errorMessage = `Error: ${error.error.message}`;\n    } else {\n      // Server-side errors\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\n    }\n    window.alert(errorMessage);\n    console.log(errorMessage)\n    return throwError(errorMessage);\n  }\n\n  getStreets(): Observable<any>{\n    return this.streets = this.httpClient.get(this.REST_API_SERVER+'getStreets').pipe(catchError(this.handleError));\n  }\n\n  getStreetsTopo(){\n      this.httpClient.get(this.REST_API_SERVER+'getStreetsTopo').subscribe(\n       res=>{\n        this.streets = res;\n        this.createStreetsFeatures();\n       },err=>{\n\n       }\n     );\n   }\n\n   createStreetsFeatures(){\n    this.streetsCollection = new Collection;\n    this.streets.forEach(bikeStation =>{\n\n      //let splitCoords = bikeStation.pointsList.coordinates.split(' ');\n\n      let formatCoords= bikeStation.geom+\" 216.7\"+')';\n\n      let bikeStationCoords = this.format.readFeature(bikeStation.geom, { dataProjection: 'EPSG:4326', featureProjection: 'EPSG:3857' }).getGeometry().getCoordinates()\n\n        let streetFeature = new Feature({\n          geometry: new LineString(bikeStation.geom)\n        });\n\n        //streetFeature.setId(bikeStation.stationId);\n\n        // streetFeature.setProperties({ 'availableBikes':bikeStation.availableBikes, 'availableSlots': bikeStation.freeDocks, \n        // 'stationId':bikeStation.stationId, 'name':bikeStation.name, 'updatedAt':bikeStation.updatedAt, 'address':bikeStation.address });\n  \n        this.streetsStyleService.styleStreets(streetFeature);\n        \n        this.streetsCollection.push(streetFeature);\n    })\n\n    let streetsLayer = new VectorLayer({\n\t\t\tname: 'streets',\n\t\t\tsource: new VectorSource({\n\t\t\t\tfeatures: this.streetsCollection\n\t\t\t})\n    })\n\n\n  // for(let i = 0; i < this.mapService.map$.getLayers().getArray().length;i++){\n  //   if(this.mapService.map$.getLayers().getArray()[i].getProperties().name === 'bikeStations'){\n  //     this.mapService.map$.removeLayer(this.mapService.map$.getLayers().getArray()[i]);\n  //   }\n  // } \n    this.mapService.map$.addLayer(streetsLayer);\n\n     for(let i = 0; i < this.mapService.map$.getLayers().getArray().length;i++){\n    //  if(this.mapService.map$.getLayers().getArray()[i].getProperties().name === 'bikeStations'){\n    //    this.mapService.map$.removeLayer(this.mapService.map$.getLayers().getArray()[i]);\n    //  }\n    //console.log(this.mapService.map$.getLayers().getArray()[i].getProperties().name)\n   }\n    \n    \n  }\n\n  notifyStreets(streets){\n    this.streetsListOut.next(streets);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Style, Icon as IconStyle, Text, Fill, Stroke, Circle as CircleStyle } from 'ol/style';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StyleLineFeaturesService {\n\n  constructor() { }\n\n  styleRoute(feature){\n    let lineStyle = [];\n\n    let streetsStyle = new Style({\n      stroke: new Stroke({ color: 'yellow', width: 5 }),\n    })\n    lineStyle.push(streetsStyle);\n    feature.setStyle(lineStyle);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Style, Icon as IconStyle, Text, Fill, Stroke, Circle as CircleStyle } from 'ol/style';\nimport { MapService } from './map.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StylePointsFeaturesService {\n\n  assets_base = 'assets/img/';\n\n  constructor(private mapService: MapService) { }\n\n  changeBikeMarkerStyle(bikeOrSlot){\n    \n    let markerStyle = [];\n\n   let less2Slots = new Style({\n      image: new IconStyle(({\n        anchor: [21, 70],\n        anchorXUnits: 'pixels',\n        anchorYUnits: 'pixels',\n        opacity: 1,\n        src: this.assets_base + 'less.png',\n        snapToPixel: false\n      })),\n      //Vehicle Label\n      text: new Text({\n        // text:\n        textAlign: 'center',\n        font: '11px Arial',\n        textBaseline: 'top',\n        fill: new Fill({ color: 'lightCyan' }),\n        stroke: new Stroke({ color: 'MediumBlue', width: 1 }),\n        offsetX: 0,\n        offsetY: 4,\n      })\n    })\n\n    let slotSymbol = new Style({\n      image: new IconStyle(({\n        anchor: [16, 70],\n        anchorXUnits: 'pixels',\n        anchorYUnits: 'pixels',\n        opacity: 1,\n        src: this.assets_base + 'iconmonstr-car-21-32.png',\n        snapToPixel: false\n      }))\n    })\n\n    let more2Slots = new Style({\n      image: new IconStyle(({\n        anchor: [21, 70],\n        anchorXUnits: 'pixels',\n        anchorYUnits: 'pixels',\n        opacity: 1,\n        src: this.assets_base + 'vehicle_color_1.png',\n        snapToPixel: false\n      })),\n      //Vehicle Label\n      text: new Text({\n        // text:\n        textAlign: 'center',\n        font: '11px Arial',\n        textBaseline: 'top',\n        fill: new Fill({ color: 'lightCyan' }),\n        stroke: new Stroke({ color: 'MediumBlue', width: 1 }),\n        offsetX: 0,\n        offsetY: 4,\n      })\n    })\n\n    let less2Bikes = new Style({\n      image: new IconStyle(({\n        anchor: [21, 70],\n        anchorXUnits: 'pixels',\n        anchorYUnits: 'pixels',\n        opacity: 1,\n        src: this.assets_base + 'less.png',\n        snapToPixel: false\n      })),\n      //Vehicle Label\n      text: new Text({\n        // text:\n        textAlign: 'center',\n        font: '11px Arial',\n        textBaseline: 'top',\n        fill: new Fill({ color: 'lightCyan' }),\n        stroke: new Stroke({ color: 'MediumBlue', width: 1 }),\n        offsetX: 0,\n        offsetY: 4,\n      })\n    })\n\n    let more2Bikes = new Style({\n      image: new IconStyle(({\n        anchor: [21, 70],\n        anchorXUnits: 'pixels',\n        anchorYUnits: 'pixels',\n        opacity: 1,\n        src: this.assets_base + 'vehicle_color_1.png',\n        snapToPixel: false\n      })),\n      //Vehicle Label\n      text: new Text({\n        // text:\n        textAlign: 'center',\n        font: '11px Arial',\n        textBaseline: 'top',\n        fill: new Fill({ color: 'lightCyan' }),\n        stroke: new Stroke({ color: 'MediumBlue', width: 1 }),\n        offsetX: 0,\n        offsetY: 4,\n      })\n    })\n\n      markerStyle.push(\n        new Style({\n        image: new IconStyle({\n          anchor: [0.5, 1],\n          anchorXUnits: 'fraction',\n          anchorYUnits: 'fraction',\n          opacity: 1,\n          src: this.assets_base + 'vehicle_pin.png',\n          snapToPixel: false\n        }),\n        //Text Style\n        text: new Text({\n          textAlign: 'center',\n          font: '9px',\n          textBaseline: 'top',\n          //text: vehicleInfo.name,\n          scale: 1.5,\n          offsetX: 0,\n          offsetY: 4,\n          // fill: new Fill({\n          //   color: textoVehiculo_color\n          // })\n          // ,\n          stroke: new Stroke({\n            width: 0\n          })\n        })\n      })\n      );\n\n    let layers = this.mapService.map$.getLayers();\n    let feature = layers.getArray()[1].getSource().getFeatures();\n    for(let i = 0; i < feature.length; i++){\n      if(bikeOrSlot === 'slot'){\n        \n        if(feature[i].values_.availableSlots <= 2){\n          markerStyle.push(less2Slots)\n          markerStyle.push(slotSymbol)\n        }else{\n          markerStyle.push(more2Slots)\n          markerStyle.push(slotSymbol)\n        }\n      }else{\n        if(feature[i].values_.availableBikes <= 2){\n          markerStyle.push(less2Bikes)\n        }else{\n          markerStyle.push(more2Bikes)\n        }\n      }\n      \n      feature[i].setStyle(markerStyle);\n    }\n  }\n\n  applyStyleToMarker(bikeStationFeature,bikeStation, bikeOrSlot?){\n\n    let markerStyle = [];\n      markerStyle.push(\n        new Style({\n        image: new IconStyle({\n          anchor: [0.5, 1],\n          anchorXUnits: 'fraction',\n          anchorYUnits: 'fraction',\n          opacity: 1,\n          src: this.assets_base + 'vehicle_pin.png',\n          snapToPixel: false\n        }),\n        //Text Style\n        text: new Text({\n          textAlign: 'center',\n          font: '9px',\n          textBaseline: 'top',\n          //text: vehicleInfo.name,\n          scale: 1.5,\n          offsetX: 0,\n          offsetY: 4,\n          // fill: new Fill({\n          //   color: textoVehiculo_color\n          // })\n          // ,\n          stroke: new Stroke({\n            width: 0\n          })\n        })\n      })\n      );\n\n\n      if(bikeOrSlot === undefined || bikeOrSlot === 'bikes'){\n        if(bikeStation.availableBikes > 5){\n          markerStyle.push(\n            new Style({\n              image: new IconStyle(({\n                anchor: [21, 70],\n                anchorXUnits: 'pixels',\n                anchorYUnits: 'pixels',\n                opacity: 1,\n                src: this.assets_base + 'vehicle_color_1.png',\n                snapToPixel: false\n              })),\n              //Vehicle Label\n              text: new Text({\n                // text:\n                textAlign: 'center',\n                font: '11px Arial',\n                textBaseline: 'top',\n                fill: new Fill({ color: 'lightCyan' }),\n                stroke: new Stroke({ color: 'MediumBlue', width: 1 }),\n                offsetX: 0,\n                offsetY: 4,\n              })\n            }),\n            new Style({\n              image: new IconStyle(({\n                anchor: [16, 70],\n                anchorXUnits: 'pixels',\n                anchorYUnits: 'pixels',\n                opacity: 1,\n                src: this.assets_base + 'iconmonstr-bicycle-1-32.png',\n                snapToPixel: false\n              }))\n            })\n          )\n        }else{\n          markerStyle.push(\n            new Style({\n              image: new IconStyle(({\n                anchor: [21, 70],\n                anchorXUnits: 'pixels',\n                anchorYUnits: 'pixels',\n                opacity: 1,\n                src: this.assets_base + 'vehicle_color_2.png',\n                snapToPixel: false\n              })),\n              //Vehicle Label\n              text: new Text({\n                // text:\n                textAlign: 'center',\n                font: '11px Arial',\n                textBaseline: 'top',\n                fill: new Fill({ color: 'lightCyan' }),\n                stroke: new Stroke({ color: 'MediumBlue', width: 1 }),\n                offsetX: 0,\n                offsetY: 4,\n              })\n            }),\n              new Style({\n                image: new IconStyle(({\n                  anchor: [16, 70],\n                  anchorXUnits: 'pixels',\n                  anchorYUnits: 'pixels',\n                  opacity: 1,\n                  src: this.assets_base + 'iconmonstr-bicycle-1-32.png',\n                  snapToPixel: false\n                }))\n              })\n            \n          )\n        }\n      }else{\n\n        let less2Slots = new Style({\n          image: new IconStyle(({\n            anchor: [21, 70],\n            anchorXUnits: 'pixels',\n            anchorYUnits: 'pixels',\n            opacity: 1,\n            src: this.assets_base + 'less.png',\n            snapToPixel: false\n          })),\n          //Vehicle Label\n          text: new Text({\n            // text:\n            textAlign: 'center',\n            font: '11px Arial',\n            textBaseline: 'top',\n            fill: new Fill({ color: 'lightCyan' }),\n            stroke: new Stroke({ color: 'MediumBlue', width: 1 }),\n            offsetX: 0,\n            offsetY: 4,\n          })\n        })\n    \n        let slotSymbol = new Style({\n          image: new IconStyle(({\n            anchor: [16, 65],\n            anchorXUnits: 'pixels',\n            anchorYUnits: 'pixels',\n            opacity: 1,\n            src: this.assets_base + 'iconmonstr-car-21-32.png',\n            snapToPixel: false\n          }))\n        })\n    \n        let more2Slots = new Style({\n          image: new IconStyle(({\n            anchor: [21, 70],\n            anchorXUnits: 'pixels',\n            anchorYUnits: 'pixels',\n            opacity: 1,\n            src: this.assets_base + 'vehicle_color_1.png',\n            snapToPixel: false\n          })),\n          //Vehicle Label\n          text: new Text({\n            // text:\n            textAlign: 'center',\n            font: '11px Arial',\n            textBaseline: 'top',\n            fill: new Fill({ color: 'lightCyan' }),\n            stroke: new Stroke({ color: 'MediumBlue', width: 1 }),\n            offsetX: 0,\n            offsetY: 4,\n          })\n        })\n        if(bikeStation.availableSlots <= 1){\n          markerStyle.push(less2Slots)\n          markerStyle.push(slotSymbol)\n        }else{\n          markerStyle.push(more2Slots)\n          markerStyle.push(slotSymbol)\n        }\n        \n\n        markerStyle.push()\n      }\n      \n      bikeStationFeature.setStyle(markerStyle);\n    }\n\n     applyStyleToFoundAdressMarker(foundAddressFeature){\n       let markerStyle = [];\n       markerStyle.push(\n         new Style({\n         image: new IconStyle({\n           anchor: [0.5, 1],\n           anchorXUnits: 'fraction',\n           anchorYUnits: 'fraction',\n           opacity: 1,\n           src: this.assets_base + 'vehicle_pin.png',\n           snapToPixel: false\n         }),\n         //Text Style\n         text: new Text({\n           textAlign: 'center',\n           font: '9px',\n           textBaseline: 'top',\n           //text: vehicleInfo.name,\n           scale: 1.5,\n           offsetX: 0,\n           offsetY: 4,\n    //       // fill: new Fill({\n    //       //   color: textoVehiculo_color\n    //       // })\n    //       // ,\n           stroke: new Stroke({\n             width: 0\n           })\n         })\n       })\n       );\n  \n         markerStyle.push(\n           new Style({\n             image: new IconStyle(({\n               anchor: [21, 70],\n               anchorXUnits: 'pixels',\n               anchorYUnits: 'pixels',\n               opacity: 1,\n               src: this.assets_base + 'vehicle_color_7.png',\n               snapToPixel: false\n             })),\n    //         //Vehicle Label\n             text: new Text({\n               // text:\n               textAlign: 'center',\n               font: '11px Arial',\n               textBaseline: 'top',\n               fill: new Fill({ color: 'lightCyan' }),\n               stroke: new Stroke({ color: 'MediumBlue', width: 1 }),\n               offsetX: 0,\n               offsetY: 4,\n             })\n           }),\n         )\n      \n       foundAddressFeature.setStyle(markerStyle);\n     }\n\n    applyStyleToUser(userPositionFeature){\n      let markerStyle = [];\n      markerStyle.push(\n        new Style({\n          image: new IconStyle({\n            anchor: [0.5, 1],\n            anchorXUnits: 'fraction',\n            anchorYUnits: 'fraction',\n            opacity: 1,\n            src: this.assets_base + 'vehicle_pin.png',\n            snapToPixel: false\n          }),\n          //Text Style\n          text: new Text({\n            textAlign: 'center',\n            font: '9px',\n            textBaseline: 'top',\n            //text: vehicleInfo.name,\n            scale: 1.5,\n            offsetX: 0,\n            offsetY: 4,\n            // fill: new Fill({\n            //   color: textoVehiculo_color\n            // })\n            // ,\n            stroke: new Stroke({\n              width: 0\n            })\n          })\n        }),\n        new Style({\n          image: new IconStyle(({\n            anchor: [16, 70],\n            anchorXUnits: 'pixels',\n            anchorYUnits: 'pixels',\n            opacity: 1,\n            src: 'assets/img/iconmonstr-user-6-32.png',\n            snapToPixel: false\n          }))\n        })\n      );\n\n      userPositionFeature.setStyle(markerStyle);\n    }\n\n    applyStyleToSelectedFeature(feature){\n      let markerStyleSelectedFeature = [];\n      markerStyleSelectedFeature.push(\n        new Style({\n          image: new IconStyle({\n            anchor: [0.5, 1],\n            anchorXUnits: 'fraction',\n            anchorYUnits: 'fraction',\n            opacity: 1,\n            src: this.assets_base + 'vehicle_pin.png',\n            snapToPixel: false\n          }),\n          //Text Style\n          text: new Text({\n            textAlign: 'center',\n            font: '9px',\n            textBaseline: 'top',\n            //text: vehicleInfo.name,\n            scale: 1.5,\n            offsetX: 0,\n            offsetY: 4,\n            // fill: new Fill({\n            //   color: textoVehiculo_color\n            // })\n            // ,\n            stroke: new Stroke({\n              width: 0\n            })\n          })\n        }),\n        new Style({\n          image: new IconStyle(({\n            anchor: [21, 70],\n            anchorXUnits: 'pixels',\n            anchorYUnits: 'pixels',\n            opacity: 1,\n            src: this.assets_base + 'vehicle_color_3.png',\n            snapToPixel: false\n          })),\n          //Vehicle Label\n          text: new Text({\n            // text:\n            textAlign: 'center',\n            font: '11px Arial',\n            textBaseline: 'top',\n            fill: new Fill({ color: 'lightCyan' }),\n            stroke: new Stroke({ color: 'MediumBlue', width: 1 }),\n            offsetX: 0,\n            offsetY: 4,\n          })\n        }),\n        new Style({\n          image: new IconStyle(({\n            anchor: [16, 70],\n            anchorXUnits: 'pixels',\n            anchorYUnits: 'pixels',\n            opacity: 1,\n            src: this.assets_base + 'iconmonstr-bicycle-1-32.png',\n            snapToPixel: false\n          }))\n        })\n      );\n\n      feature.setStyle(markerStyleSelectedFeature);\n    }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Style, Icon as IconStyle, Text, Fill, Stroke, Circle as CircleStyle } from 'ol/style';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StylePolygonFeaturesService {\n\n  constructor() { }\n\n  applyStyleToDistricts(feature){\n    let plots_styles = [];\n\n    let totalBikes = feature.getProperties().totalBikes;\n    let districtName = totalBikes.districtName;\n\n    let noBikes = new Style({\n      fill: new Fill({\n        color: [131, 145, 146, 0.5]\n      }),\n      stroke:new Stroke({ \n        color: 'black',\n        width: 1,\n        zIndex: 1\n      }),\n      text: new Text({\n           textAlign: 'center',\n           font: '9px',\n           textBaseline: 'top',\n            text: districtName,\n           scale: 1.5,\n           offsetX: 0,\n           offsetY: 4,\n            fill: new Fill({\n              color: 'black'\n            }),\n           \n           stroke: new Stroke({\n             width: 2\n           })\n         })\n    })\n\n    let lessThan50Bikes = new Style({\n      fill: new Fill({\n        color: [247, 220, 111, 0.5]\n      }),\n      stroke:new Stroke({ \n        color: 'black',\n        width: 1,\n        zIndex: 1\n      }),\n      text: new Text({\n           textAlign: 'center',\n           font: '9px',\n           textBaseline: 'top',\n           text: districtName,\n           scale: 1.5,\n           offsetX: 0,\n           offsetY: 4,\n            fill: new Fill({\n              color: 'black'\n            }),\n           \n           stroke: new Stroke({\n             width: 2,\n             color: 'black'\n           })\n         })\n    })\n\n    let moreThan50Bikes = new Style({\n      fill: new Fill({\n        color: [36, 113, 163, 0.5]\n      }),\n      stroke:new Stroke({ \n        color: 'black',\n        width: 1,\n        zIndex: 1\n      }),\n      text: new Text({\n           textAlign: 'center',\n           font: '9px',\n           textBaseline: 'top',\n           text: districtName,\n           scale: 1.5,\n           offsetX: 0,\n           offsetY: 4,\n            fill: new Fill({\n              color: 'black'\n            }),\n           \n           stroke: new Stroke({\n             width: 2\n           })\n         })\n    })\n\n     if(totalBikes.totalBikes <1){\n       plots_styles.push(\n\n         noBikes\n         );\n     }else if(totalBikes.totalBikes <50 && totalBikes.totalBikes > 0){\n       plots_styles.push(\n\n         lessThan50Bikes\n         );\n     }else{\n      \n       plots_styles.push(\n\n         moreThan50Bikes\n         );\n     }\n    \n   \n    feature.setStyle(plots_styles);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StyleService {\n\n  assets_base = 'assets/img/';\n\n  constructor() { }\n\n  \n}\n","import { HttpClient, HttpErrorResponse } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { MapService } from './map.service';\r\n\r\nimport Feature from 'ol/Feature';\r\nimport Point from 'ol/geom/Point';\r\nimport { Vector as VectorSource } from 'ol/source';\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport Collection from 'ol/Collection';\r\nimport { Style, Icon as IconStyle, Text, Fill, Stroke, Circle as CircleStyle } from 'ol/style';\r\nimport WKT from 'ol/format/WKT';\r\nimport { InfoCardService } from '../info-card/services/info-card.service';\r\n\r\nimport { Observable, throwError, BehaviorSubject } from 'rxjs';\r\nimport { stringify } from 'querystring';\r\nimport { TabledetailComponent } from '../components/tabledetail/tabledetail.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { NomadriddialogComponent } from '../components/nomadriddialog/nomadriddialog.component';\r\nimport { StyleService } from './style.service';\r\nimport { ErrordialogComponent } from '../components/errordialog/errordialog.component';\r\nimport { catchError, retry, shareReplay } from 'rxjs/operators';\r\nimport { StylePointsFeaturesService } from './style-points-features.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n\r\n  userCity: string;\r\n  userPosition;\r\n  format = new WKT();\r\n  assets_base = 'assets/img/';\r\n\r\n  private userPositionOut = new BehaviorSubject<any>(null);\r\n\r\n  userPosition$ = this.userPositionOut.asObservable();\r\n\r\n  private REST_API_SERVER = \"http://localhost:8081/api/auth/EMTServices/\";\r\n  private REST_API_SERVER_URBAN = \"http://localhost:8081/api/urban/EMTServices/\";\r\n  //private REST_API_SERVER = \"https://floating-reef-24535.herokuapp.com/api/auth/EMTServices/\";\r\n\r\n  constructor(private httpClient: HttpClient, private mapService: MapService,\r\n    private infoCardService: InfoCardService, public dialog: MatDialog, private stylePointsFeaturesService: StylePointsFeaturesService) {\r\n    this.getUserPosition();\r\n  }\r\n\r\n  // notifyUserPosition(userPosition) {\r\n  //   this.userPositionOut.next(userPosition)\r\n  // }\r\n\r\n  handleError(error: HttpErrorResponse) {\r\n    let dialog: MatDialog;\r\n    let errorMessage = 'Unknown error!';\r\n    if (error.error instanceof ErrorEvent) {\r\n      // Client-side errors\r\n      errorMessage = `Error: ${error.error.message}`;\r\n    } else {\r\n      // Server-side errors\r\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n    }\r\n    window.alert(errorMessage);\r\n    return throwError(errorMessage);\r\n  }\r\n\r\n  // openDialog(){\r\n  //   const dialogRef = this.dialog.open(ErrordialogComponent, {\r\n  //     width: '600px',\r\n  //     data: { err: 'An error has ocurred getting your' }\r\n  //   });\r\n  // }\r\n\r\n  async getUserPosition() {\r\n    let coords = await this.fetchCoordinates();\r\n    //@ts-ignore\r\n    this.getGeoCoding(coords.coords);\r\n\r\n    let userCoords = {\r\n      //@ts-ignore\r\n      lat:coords.coords.latitude,\r\n      //@ts-ignore\r\n      lng:coords.coords.longitude\r\n    }\r\n    localStorage.setItem('userCoords',JSON.stringify(userCoords));\r\n\r\n  }\r\n\r\n  getCoordinates() {\r\n    return new Promise(function (resolve, reject) {\r\n      navigator.geolocation.getCurrentPosition(resolve, reject);\r\n    });\r\n  }\r\n\r\n  async fetchCoordinates() {\r\n    // notice, no then(), cause await would block and \r\n    // wait for the resolved result\r\n    const position = await this.getCoordinates();\r\n\r\n    // Actually return a value\r\n    return position;\r\n  }\r\n\r\n  getGeoCoding(coords) {\r\n    let userCity\r\n    this.getGeoCodingAPI(coords).subscribe(\r\n      res => {\r\n        //@ts-ignore\r\n        if (res.results[0].locations[0] != undefined) {\r\n          //@ts-ignore\r\n          localStorage.setItem('userLocationAddress', res.results[0].locations[0].street);\r\n          //@ts-ignore\r\n          userCity=res.results[0].locations[0].adminArea5;\r\n        }\r\n        this.registerVisit(userCity);\r\n        //@ts-ignore\r\n        this.checkIfUserInMadrid(userCity, res.results[0].providedLocation.latLng.lng, res.results[0].providedLocation.latLng.lat, res.results[0].providedLocation.latLng);\r\n      },err=>{\r\n        // let params = {\r\n        //   //@ts-ignore\r\n        //   'coordinates': 'POINT (' + coords.longitude + ' ' + coords.latitude + '),3857)'\r\n        // }\r\n        //  this.httpClient.post(this.REST_API_SERVER_URBAN+'checkIfUserInMadrid', params).subscribe(\r\n        //    res=>{\r\n        //      console.log(res)\r\n        //    },err=>{\r\n        //      console.log(err)\r\n        //    }\r\n        //  );\r\n        const dialogRef = this.dialog.open(NomadriddialogComponent, {\r\n          width: '600px',\r\n        });\r\n\r\n        dialogRef.componentInstance.apiError = true;\r\n  \r\n        dialogRef.afterClosed().subscribe(result => {\r\n          console.log(result)\r\n        });\r\n      }\r\n    )\r\n  }\r\n\r\n  getGeoCodingAPI(coords): Observable<any> {\r\n    let lat = coords.latitude;\r\n    let lng = coords.longitude;\r\n    return this.httpClient.get('https://www.mapquestapi.com/geocoding/v1/reverse?key=rap9nA00BZ9zIZLP1eWHyyyrRkqGdFVX&location='\r\n      + lat + ',' + lng).pipe(\r\n        retry(3),\r\n        //catchError(this.handleError)\r\n      );\r\n    shareReplay();\r\n  }\r\n\r\n  \r\n\r\n  registerVisit(userCity) {\r\n    this.httpClient.get(this.REST_API_SERVER + 'registerVisit', {\r\n      params: {\r\n        'userCity': userCity,\r\n      }\r\n    }\r\n    ).subscribe(\r\n      res => {\r\n      },\r\n      err => {\r\n        console.log(err)\r\n      }\r\n    )\r\n  }\r\n\r\n  checkIfUserInMadrid(userCity, lng, lat, latLng) {\r\n    if (userCity === 'Madrid') {\r\n      let formatCoords = 'POINT(' + lng + ' ' + lat + \" 216.7\" + ')';\r\n      let formatCoords2 = 'POINT(' + lng + ' ' + lat + ')';\r\n\r\n      this.mapService.updateMapViewCenter(formatCoords2);\r\n\r\n      let userPositionCoords = this.format.readFeature(formatCoords.replace(\r\n        /[\\W]*\\S+[\\W]*$/, '') + ')', { dataProjection: 'EPSG:4326', featureProjection: 'EPSG:3857' }).getGeometry().getCoordinates();\r\n\r\n      let userPositionFeature = new Feature({\r\n        geometry: new Point(userPositionCoords)\r\n      });\r\n\r\n      //@ts-ignore\r\n      this.mapService.sendUserPositionToInfoCard(latLng);\r\n\r\n      this.stylePointsFeaturesService.applyStyleToUser(userPositionFeature);\r\n\r\n      let userPositionCollection = new Collection;\r\n\r\n      userPositionCollection.push(userPositionFeature);\r\n\r\n      let userPositionLayer = new VectorLayer({\r\n        name: 'userPosition',\r\n        source: new VectorSource({\r\n          features: userPositionCollection\r\n        })\r\n      });\r\n\r\n      this.mapService.map$.addLayer(userPositionLayer);\r\n      //@ts-ignore\r\n    } else {\r\n      const dialogRef = this.dialog.open(NomadriddialogComponent, {\r\n        width: '600px',\r\n      });\r\n\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        console.log(result)\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UpperBarService {\n\n  private openLoginOut = new BehaviorSubject<string>(null);\n\n  uopenLogin$ = this.openLoginOut.asObservable();\n\n  constructor() { }\n\n  openLogin(openLogin: string){\n    this.openLoginOut.next(openLogin);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UpperBarComponent } from './upper-bar/upper-bar.component';\nimport { MaterialModule } from '../material-module';\nimport { AuthModuleModule } from '../auth-module/auth-module.module';\n\n\n\n@NgModule({\n  declarations: [UpperBarComponent],\n  imports: [\n    CommonModule,MaterialModule, AuthModuleModule\n  ],\n  exports:[\n    UpperBarComponent\n  ]\n})\nexport class UpperBarModule { }\n","<mat-toolbar>\n    <div *ngIf=\"userName === undefined\">\n        <div style=\"padding: 2%;\">\n            MadridMobility\n              <a role=\"button\" (click)=\"openLogin()\">login</a> \n        </div>\n        \n    </div>\n    <div *ngIf=\"userName !== undefined\">\n        <div style=\"padding: 2%;\">\n            MadridMobility\n             <p>Hola {{userName}}</p>\n        </div> \n    </div>\n    <div *ngIf=\"userName !== undefined\"><a role=\"button\" (click)=\"logOut()\">LogOut</a> </div>\n</mat-toolbar>\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'src/app/auth-module/services/auth.service';\nimport { UpperBarService } from '../services/upper-bar.service';\n\n@Component({\n  selector: 'app-upper-bar',\n  templateUrl: './upper-bar.component.html',\n  styleUrls: ['./upper-bar.component.css']\n})\nexport class UpperBarComponent implements OnInit {\n\n  userName: string;\n\n  constructor(private upperBarService: UpperBarService, private authService: AuthService) { \n     this.authService.userToken$.subscribe(userToken => {\n       if(userToken != null){\n         let payload = JSON.parse(atob(userToken.split(\".\")[1]));\n         this.userName = payload.name;\n       }\n     })\n\n  }\n\n  ngOnInit(): void {\n  }\n\n  openLogin() {\n    this.upperBarService.openLogin('login');\n  }\n\n  logOut(){\n    this.userName = undefined;\n    localStorage.removeItem('JWT_TOKEN');\n    this.authService.logOut();\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}